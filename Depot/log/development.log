# Logfile created on Mon Oct 19 17:44:16 +0800 2009  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 13:03:56) [GET]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m

NameError (undefined local variable or method `has_access_controls' for User(Table doesn't exist):Class):
  app/models/user.rb:4
  app/controllers/application_controller.rb:24:in `authorize'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (91.4ms)
Rendered rescues/_request_and_response (2.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Rails::InfoController#properties (for 127.0.0.1 at 2009-10-20 13:04:03) [GET]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
Completed in 105ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/rails/info/properties]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (30.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (7.0ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091015012930')[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (8.1ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (8.2ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
  [4;35;1mSQL (3.4ms)[0m   [0mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091015012930')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.8ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (7.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091015012930')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
  [4;36;1mSQL (6.7ms)[0m   [0;1mALTER TABLE `products` ADD `price` decimal(8,2) DEFAULT 0[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091015013454')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
  [4;36;1mProduct Delete all (0.2ms)[0m   [0;1mDELETE FROM `products` [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'Pragmatic Version Control') LIMIT 1[0m
  [4;36;1mProduct Create (0.3ms)[0m   [0;1mINSERT INTO `products` (`price`, `created_at`, `title`, `image_url`, `updated_at`, `description`) VALUES(28.5, '2009-10-20 07:32:54', 'Pragmatic Version Control', '/images/svn.jpg', '2009-10-20 07:32:54', '<p>\n	 This book is a recipe-based approach to using Subversion that will\n	 get you up and running quickly---and correctly. All projects need\n	 version control: it\'s a foundational piece of any project\' s\n	 infrastructure. Yet half of all project teams in the U.S. don\'t use\n	 any version control at all. Many others don\'t use it well, and end\n	 up experiencing time-consuming problems.\n		</p>')[0m
  [4;35;1mSQL (4.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091015015205')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
  [4;36;1mSQL (5.0ms)[0m   [0;1mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `session_id` varchar(255) NOT NULL, `data` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (10.5ms)[0m   [0mCREATE INDEX `index_sessions_on_session_id` ON `sessions` (`session_id`)[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mCREATE INDEX `index_sessions_on_updated_at` ON `sessions` (`updated_at`)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091015023958')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to GenerateAccessControlModels (20091015064544)
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE `permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `authorizable_id` int(11), `authorizable_type` varchar(255), `created_at` datetime, `updated_at` datetime, `god` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (7.1ms)[0m   [0mCREATE TABLE `roles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE `user_roles` (`user_id` int(11), `role_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091015064544')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `user_roles`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW KEYS FROM `user_roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to GenerateAccessControlModels (20091015064544)
Migrating to CreateUsers (20091015065416)
  [4;36;1mSQL (8.1ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091015065416')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `user_roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `user_roles`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to GenerateAccessControlModels (20091015064544)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(10), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091015080355')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `orders`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `permissions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `permissions`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `roles`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `sessions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `sessions`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `user_roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `user_roles`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to GenerateAccessControlModels (20091015064544)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
  [4;36;1mSQL (5.2ms)[0m   [0;1mCREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11) NOT NULL, `order_id` int(11) NOT NULL, `quantity` int(11) NOT NULL, `total_price` decimal(8,2) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (4.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091015080415')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `user_roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `user_roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to GenerateAccessControlModels (20091015064544)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to CreateUser (20091015083113)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 15:43:24) [GET]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m

NameError (undefined local variable or method `has_access_controls' for #<Class:0xb7487fbc>):
  app/models/user.rb:4
  app/controllers/application_controller.rb:24:in `authorize'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.1ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 15:45:18) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 142ms (DB: 2) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 15:45:19) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 105ms (View: 100, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 15:45:19) [GET]

ActionController::RoutingError (No route matches "/stylesheets/depot.css" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 15:45:24) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 15:45:24) [GET]

ActionController::RoutingError (No route matches "/stylesheets/depot.css" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 15:45:26) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 15:45:26) [GET]

ActionController::RoutingError (No route matches "/stylesheets/depot.css" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 15:47:41) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'hehe') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('hehe', '-6071528380.756817360520951', '2009-10-20 07:57:21', '2009-10-20 07:57:21', 'db9af99475ea4f712b2ab1074d81336704497fb2')[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 15:57:28) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 15:57:30) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 0) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 15:57:31) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 15:57:35) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 15:57:35) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

NoMethodError (undefined method `has_permission?' for #<User:0xb78cd144>):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (101.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 15:59:00) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

NoMethodError (undefined method `permission_required' for #<AdminController:0xb67df3a0>):
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (57.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.9ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 15:59:46) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

NoMethodError (undefined method `permission_required' for #<AdminController:0xb670e700>):
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:00:32) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
Completed in 45ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:00:35) [GET]

ActionController::RoutingError (No route matches "/orders" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:00:38) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 49ms (View: 29, DB: 2) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-10-20 16:00:41) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/store
Rendering products/new
Completed in 66ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/products/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-10-20 16:01:02) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "product"=>{"price"=>"0.0", "image_url"=>"/image/gaga/jpg", "title"=>"gaga", "description"=>""}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'gaga') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering products/new
Completed in 58ms (View: 32, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-10-20 16:01:38) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "product"=>{"price"=>"10.0", "image_url"=>"/image/gaga.jpg", "title"=>"gaga", "description"=>"What shall I do?\r\nWhere shall my blood share?"}}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'gaga') LIMIT 1[0m
  [4;35;1mProduct Create (0.2ms)[0m   [0mINSERT INTO `products` (`price`, `created_at`, `title`, `image_url`, `updated_at`, `description`) VALUES(10.0, '2009-10-20 08:01:38', 'gaga', '/image/gaga.jpg', '2009-10-20 08:01:38', 'What shall I do?\r\nWhere shall my blood share?')[0m
  [4;36;1mSQL (7.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/2
Completed in 45ms (DB: 10) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-20 16:01:38) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 49ms (View: 29, DB: 3) | 200 OK [http://127.0.0.1/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:01:39) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 71ms (View: 38, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:01:40) [GET]

ActionController::RoutingError (No route matches "/image/gaga.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:01:47) [GET]

NameError (uninitialized constant UsersController):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (114.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:02:39) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 53ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:02:39) [GET]

ActionController::RoutingError (No route matches "/image/gaga.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:05:19) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 39ms (View: 21, DB: 2) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:05:19) [GET]

ActionController::RoutingError (No route matches "/image/gaga.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:05:21) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 40ms (View: 21, DB: 2) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:05:21) [GET]

ActionController::RoutingError (No route matches "/image/gaga.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-10-20 16:05:22) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 86ms (View: 54, DB: 3) | 200 OK [http://127.0.0.1/products/2/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-10-20 16:05:32) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"2", "product"=>{"price"=>"10.00", "image_url"=>"/image/huitailang.jpg", "title"=>"gaga", "description"=>"What shall I do?\r\nWhere shall my blood share?"}}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'gaga' AND `products`.id <> 2) LIMIT 1[0m
  [4;35;1mProduct Update (0.4ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-10-20 08:05:32', `image_url` = '/image/huitailang.jpg' WHERE `id` = 2[0m
  [4;36;1mSQL (7.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/2
Completed in 51ms (DB: 11) | 302 Found [http://127.0.0.1/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-20 16:05:33) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 106ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:05:36) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 74ms (View: 40, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:05:37) [GET]

ActionController::RoutingError (No route matches "/image/huitailang.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-10-20 16:05:40) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 57ms (View: 25, DB: 4) | 200 OK [http://127.0.0.1/products/2/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-10-20 16:05:53) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"2", "product"=>{"price"=>"10.00", "image_url"=>"/images/huitailang.jpg", "title"=>"gaga", "description"=>"What shall I do?\r\nWhere shall my blood share?"}}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'gaga' AND `products`.id <> 2) LIMIT 1[0m
  [4;35;1mProduct Update (0.4ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-10-20 08:05:53', `image_url` = '/images/huitailang.jpg' WHERE `id` = 2[0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/2
Completed in 50ms (DB: 11) | 302 Found [http://127.0.0.1/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-20 16:05:53) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 45ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/products/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:05:55) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 44ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:06:00) [GET]

NameError (uninitialized constant UsersController):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (59.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:06:27) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 70ms (View: 38, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:06:29) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 118ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:09:05) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 51ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:09:08) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 54ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 16:09:09) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 41ms (View: 23, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-20 16:09:12) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 29ms (View: 17, DB: 1) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-20 16:09:27) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "user"=>{"name"=>"jingtian", "password_confirmation"=>"jingtina", "password"=>"jingtian"}}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'jingtian') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/new
Completed in 51ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-20 16:09:35) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "user"=>{"name"=>"jingtian", "password_confirmation"=>"jingtian", "password"=>"jingtian"}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'jingtian') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('jingtian', '-6171457280.0723663980829637', '2009-10-20 08:09:35', '2009-10-20 08:09:35', '19ae6149fe53840acc2635e50eb44f941df313c7')[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 26ms (DB: 8) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 16:09:35) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 32ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-20 16:11:09) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 43ms (View: 21, DB: 3) | 200 OK [http://127.0.0.1/users/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 16:11:12) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 33ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 16:11:21) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 55ms (View: 33, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:11:24) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 70ms (View: 38, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-10-20 16:11:27) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/store
Rendering products/new
Completed in 53ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/products/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-10-20 16:12:24) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "product"=>{"price"=>"0.0", "image_url"=>"/image/ruby.jpg", "title"=>"rubyonrails", "description"=>"ror........\r\nVery interesting....."}}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'rubyonrails') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering products/new
Completed in 63ms (View: 23, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-10-20 16:12:28) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "product"=>{"price"=>"0.05", "image_url"=>"/image/ruby.jpg", "title"=>"rubyonrails", "description"=>"ror........\r\nVery interesting....."}}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'rubyonrails') LIMIT 1[0m
  [4;35;1mProduct Create (0.3ms)[0m   [0mINSERT INTO `products` (`price`, `created_at`, `title`, `image_url`, `updated_at`, `description`) VALUES(0.05, '2009-10-20 08:12:28', 'rubyonrails', '/image/ruby.jpg', '2009-10-20 08:12:28', 'ror........\r\nVery interesting.....')[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/3
Completed in 34ms (DB: 8) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-20 16:12:28) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 29ms (View: 8, DB: 2) | 200 OK [http://127.0.0.1/products/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:12:30) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 87ms (View: 52, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:12:30) [GET]

ActionController::RoutingError (No route matches "/image/ruby.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-10-20 16:12:33) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 57ms (View: 24, DB: 4) | 200 OK [http://127.0.0.1/products/3/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-10-20 16:12:47) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"3", "product"=>{"price"=>"0.05", "image_url"=>"/image/xiyangyang.jpg", "title"=>"rubyonrails", "description"=>"ror........\r\nVery interesting....."}}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'rubyonrails' AND `products`.id <> 3) LIMIT 1[0m
  [4;35;1mProduct Update (0.3ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-10-20 08:12:48', `image_url` = '/image/xiyangyang.jpg' WHERE `id` = 3[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/3
Completed in 55ms (DB: 10) | 302 Found [http://127.0.0.1/products/3]
  [4;35;1mSQL (0.6ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-20 16:12:48) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 29ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/products/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:12:49) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 86ms (View: 52, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:12:50) [GET]

ActionController::RoutingError (No route matches "/image/xiyangyang.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-10-20 16:12:53) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 58ms (View: 25, DB: 4) | 200 OK [http://127.0.0.1/products/3/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-10-20 16:13:32) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"3", "product"=>{"price"=>"0.05", "image_url"=>"/image/meiyangyang.jpg", "title"=>"rubyonrails", "description"=>"ror........\r\nVery interesting....."}}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'rubyonrails' AND `products`.id <> 3) LIMIT 1[0m
  [4;35;1mProduct Update (0.4ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-10-20 08:13:32', `image_url` = '/image/meiyangyang.jpg' WHERE `id` = 3[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/3
Completed in 46ms (DB: 10) | 302 Found [http://127.0.0.1/products/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-20 16:13:32) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 28ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/products/3]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:13:33) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 56ms (View: 29, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:13:33) [GET]

ActionController::RoutingError (No route matches "/image/meiyangyang.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-10-20 16:13:38) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 57ms (View: 25, DB: 4) | 200 OK [http://127.0.0.1/products/3/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-10-20 16:13:45) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"3", "product"=>{"price"=>"0.05", "image_url"=>"/images/meiyangyang.jpg", "title"=>"rubyonrails", "description"=>"ror........\r\nVery interesting....."}}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'rubyonrails' AND `products`.id <> 3) LIMIT 1[0m
  [4;35;1mProduct Update (0.4ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-10-20 08:13:45', `image_url` = '/images/meiyangyang.jpg' WHERE `id` = 3[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/3
Completed in 49ms (DB: 9) | 302 Found [http://127.0.0.1/products/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-20 16:13:45) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 45ms (View: 12, DB: 4) | 200 OK [http://127.0.0.1/products/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:13:47) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (19.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 168ms (View: 31, DB: 23) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 16:13:53) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 43ms (View: 21, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:18:17) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 60ms (View: 29, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-20 16:18:38) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (4.8ms)
Completed in 67ms (View: 54, DB: 2) | 200 OK [http://127.0.0.1/store]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-20 16:18:42) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"2"}
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (6.7ms)
Rendered store/_cart (124.8ms)
Completed in 190ms (View: 141, DB: 3) | 200 OK [http://127.0.0.1/store/add_to_cart/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-20 16:18:46) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"1"}
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (5.3ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (9.7ms)
Completed in 31ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-20 16:18:48) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"3"}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (8.3ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (13.8ms)
Completed in 49ms (View: 17, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#checkout (for 127.0.0.1 at 2009-10-20 16:18:51) [POST]
  Parameters: {"authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg="}
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
Rendering template within layouts/store
Rendering store/checkout
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart_item (6.9ms)
Rendered store/_cart_item (0.7ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (12.0ms)
Completed in 85ms (View: 55, DB: 2) | 200 OK [http://127.0.0.1/store/checkout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#save_order (for 127.0.0.1 at 2009-10-20 16:19:07) [POST]
  Parameters: {"commit"=>"Place Order", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "order"=>{"address"=>"hanchan", "name"=>"hehe", "pay_type"=>"", "email"=>"jingtian2gmail.com"}}
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mLineItem Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering store/checkout
Rendered store/_cart_item (0.7ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (5.8ms)
Completed in 187ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/store/save_order]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#save_order (for 127.0.0.1 at 2009-10-20 16:19:13) [POST]
  Parameters: {"commit"=>"Place Order", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "order"=>{"address"=>"hanchan", "name"=>"hehe", "pay_type"=>"cc", "email"=>"jingtian2gmail.com"}}
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mLineItem Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `line_items`[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mOrder Create (0.4ms)[0m   [0mINSERT INTO `orders` (`name`, `address`, `created_at`, `updated_at`, `pay_type`, `email`) VALUES('hehe', 'hanchan', '2009-10-20 08:19:13', '2009-10-20 08:19:13', 'cc', 'jingtian2gmail.com')[0m
  [4;36;1mLineItem Create (0.3ms)[0m   [0;1mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-20 08:19:13', 2, 1, 1, 10.0, '2009-10-20 08:19:13')[0m
  [4;35;1mLineItem Create (0.2ms)[0m   [0mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-20 08:19:13', 1, 1, 1, 28.5, '2009-10-20 08:19:13')[0m
  [4;36;1mLineItem Create (0.3ms)[0m   [0;1mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-20 08:19:13', 3, 1, 1, 0.05, '2009-10-20 08:19:13')[0m
  [4;35;1mSQL (2.6ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/store
Completed in 84ms (DB: 9) | 302 Found [http://127.0.0.1/store/save_order]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-20 16:19:14) [GET]
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (3.1ms)
Completed in 41ms (View: 26, DB: 2) | 200 OK [http://127.0.0.1/store]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:19:30) [GET]
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 53ms (View: 28, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-10-20 16:19:33) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/store
Rendering products/new
Completed in 37ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 16:19:37) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 63ms (View: 34, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-20 16:19:39) [GET]

ActionController::RoutingError (No route matches "/orders" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 16:19:43) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 76ms (View: 39, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-20 16:19:47) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 16:19:47) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 16:19:53) [POST]
  Parameters: {"name"=>"jingtian", "commit"=>"Login", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "password"=>"jingtian"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'jingtian') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 118ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:19:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
Completed in 27ms (View: 5, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'jingtian') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to GenerateAccessControlModels (20091015064544)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to CreateUser (20091015083113)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to GenerateAccessControlModels (20091015064544)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to CreateUser (20091015083113)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to GenerateAccessControlModels (20091015064544)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to CreateUser (20091015083113)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to CreateUser (20091015083113)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to GenerateAccessControlModels (20091020083707)
  [4;36;1mSQL (9.3ms)[0m   [0;1mCREATE TABLE `permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `authorizable_id` int(11), `authorizable_type` varchar(255), `created_at` datetime, `updated_at` datetime, `god` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (29.2ms)[0m   [0mCREATE TABLE `roles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE `user_roles` (`user_id` int(11), `role_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091020083707')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `user_roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `user_roles`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to GenerateAccessControlModels (20091020083707)
Migrating to CreateMultiplePermissionsAddUserDeleteUserUpdateUser (20091020083957)
  [4;36;1mSQL (44.4ms)[0m   [0;1mALTER TABLE `permissions` ADD `add_user` tinyint(1)[0m
  [4;35;1mSQL (5.7ms)[0m   [0mALTER TABLE `permissions` ADD `delete_user` tinyint(1)[0m
  [4;36;1mSQL (13.1ms)[0m   [0;1mALTER TABLE `permissions` ADD `update_user` tinyint(1)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091020083957')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `user_roles`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `user_roles`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:43:26) [GET]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m

NameError (undefined local variable or method `has_access_controls' for #<Class:0xb67bb338>):
  app/models/user.rb:4
  app/controllers/application_controller.rb:24:in `authorize'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:44:27) [GET]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m

NameError (undefined local variable or method `has_access_controls' for #<Class:0xb66bd364>):
  app/models/user.rb:4
  app/controllers/application_controller.rb:24:in `authorize'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (148.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:44:28) [GET]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m

NameError (undefined local variable or method `has_access_controls' for #<Class:0xb6817a48>):
  app/models/user.rb:4
  app/controllers/application_controller.rb:24:in `authorize'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (65.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:45:02) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPermission Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m

RuntimeError (Permission (create_user) does not exist):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.7ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:45:33) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 2 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 2 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb6864f8c>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:46:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 2 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 2 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb677d5b0>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-20 16:46:47) [GET]
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (4.5ms)
Completed in 91ms (View: 65, DB: 2) | 200 OK [http://127.0.0.1/store]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-20 16:46:49) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"2"}
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (6.2ms)
Rendered store/_cart (15.2ms)
Completed in 128ms (View: 96, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-20 16:46:51) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"1"}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (8.5ms)
Rendered store/_cart_item (1.2ms)
Rendered store/_cart (16.9ms)
Completed in 56ms (View: 22, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-20 16:46:52) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "id"=>"3"}
  [4;36;1mProduct Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (8.3ms)
Rendered store/_cart_item (1.1ms)
Rendered store/_cart_item (1.0ms)
Rendered store/_cart (17.4ms)
Completed in 47ms (View: 22, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#checkout (for 127.0.0.1 at 2009-10-20 16:46:54) [POST]
  Parameters: {"authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg="}
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
Rendering template within layouts/store
Rendering store/checkout
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart_item (7.2ms)
Rendered store/_cart_item (0.7ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (12.5ms)
Completed in 56ms (View: 30, DB: 2) | 200 OK [http://127.0.0.1/store/checkout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#save_order (for 127.0.0.1 at 2009-10-20 16:47:01) [POST]
  Parameters: {"commit"=>"Place Order", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "order"=>{"address"=>"sssss", "name"=>"ss", "pay_type"=>"cc", "email"=>"sfsdf"}}
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mLineItem Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mOrder Create (0.3ms)[0m   [0;1mINSERT INTO `orders` (`name`, `address`, `created_at`, `updated_at`, `pay_type`, `email`) VALUES('ss', 'sssss', '2009-10-20 08:47:01', '2009-10-20 08:47:01', 'cc', 'sfsdf')[0m
  [4;35;1mLineItem Create (0.2ms)[0m   [0mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-20 08:47:01', 2, 1, 2, 10.0, '2009-10-20 08:47:01')[0m
  [4;36;1mLineItem Create (0.2ms)[0m   [0;1mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-20 08:47:01', 1, 1, 2, 28.5, '2009-10-20 08:47:01')[0m
  [4;35;1mLineItem Create (0.2ms)[0m   [0mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-20 08:47:01', 3, 1, 2, 0.05, '2009-10-20 08:47:01')[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/store
Completed in 59ms (DB: 7) | 302 Found [http://127.0.0.1/store/save_order]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-20 16:47:01) [GET]
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (4.3ms)
Completed in 52ms (View: 37, DB: 2) | 200 OK [http://127.0.0.1/store]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:47:09) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mPermission Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 2 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 2 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb6777048>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.3ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:49:14) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 2 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 2 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb6832528>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:49:30) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 2 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 2 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb673f6d4>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (152.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 16:50:25) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
Completed in 70ms (View: 24, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 16:50:27) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 68ms (View: 36, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 16:51:19) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'creaters') LIMIT 1[0m

RuntimeError (creaters does not exist):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (111.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRole Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'editors') LIMIT 1[0m
  [4;35;1mRole Create (0.2ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('editors', '2009-10-20 08:53:14', '2009-10-20 08:53:14', 'can add ,update ,delete user')[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPermission Load (0.5ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'Role') LIMIT 1[0m
  [4;36;1mPermission Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Create (0.4ms)[0m   [0;1mINSERT INTO `permissions` (`created_at`, `update_user`, `add_user`, `delete_user`, `authorizable_type`, `updated_at`, `authorizable_id`, `god`) VALUES('2009-10-20 08:55:44', NULL, NULL, NULL, NULL, '2009-10-20 08:55:44', NULL, 0)[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPermission Load (0.5ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'Role') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Update (0.7ms)[0m   [0;1mUPDATE `permissions` SET `updated_at` = '2009-10-20 08:55:44', `authorizable_type` = 'Role', `authorizable_id` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPermission Update (0.4ms)[0m   [0mUPDATE `permissions` SET `updated_at` = '2009-10-20 08:55:44', `add_user` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (19.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Update (0.4ms)[0m   [0;1mUPDATE `permissions` SET `updated_at` = '2009-10-20 08:55:55', `delete_user` = 1 WHERE `id` = 1[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPermission Update (0.4ms)[0m   [0mUPDATE `permissions` SET `updated_at` = '2009-10-20 08:56:02', `update_user` = 1 WHERE `id` = 1[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 17:00:19) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 2 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 63ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-20 17:00:32) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 33ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 17:00:32) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 110ms (View: 97, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 17:00:41) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"hI/YRaIOz81D10ArCuWe/eAmpuYFUIvAlp1w6NMT6cg=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:00:41) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
Completed in 52ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:03:38) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #2 of app/views/admin/index.html.erb:
1: <h1>Welcome</h1>
2: <%=h @user.name%>
3: It's <%= Time.now %>
4: We have <%= pluralize(@total_orders, "order" ) %>.

    app/views/admin/index.html.erb:2
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (122.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:04:08) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #2 of app/views/admin/index.html.erb:
1: <h1>Welcome</h1>
2: <!--<%=h @user.name%>-->
3: It's <%= Time.now %>
4: We have <%= pluralize(@total_orders, "order" ) %>.

    app/views/admin/index.html.erb:2
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:04:13) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #2 of app/views/admin/index.html.erb:
1: <h1>Welcome</h1>
2: <!--<%=h @user.name%>-->
3: It's <%= Time.now %>
4: We have <%= pluralize(@total_orders, "order" ) %>.

    app/views/admin/index.html.erb:2
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (129.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:04:23) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
Completed in 57ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:06:27) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 50ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:06:41) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index

ActionView::TemplateError (Couldn't find User without an ID) on line #2 of app/views/admin/index.html.erb:
1: <h1>Welcome</h1>
2: <%= h User.find(session[:user_name]) %>
3: It's <%= Time.now %>
4: We have <%= pluralize(@total_orders, "order" ) %>.

    app/views/admin/index.html.erb:2
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:07:18) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 62ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 17:07:23) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 38ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 17:07:39) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.8ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 64ms (View: 20, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-20 17:07:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 59ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 17:07:43) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 43ms (View: 19, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-20 17:07:45) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 41ms (View: 20, DB: 2) | 200 OK [http://127.0.0.1/users/2/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 17:07:46) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 70ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mPermission Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.4ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 17:09:02) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 46ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-20 17:09:04) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 40ms (View: 17, DB: 2) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 17:09:45) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 54ms (View: 18, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 17:09:47) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 40ms (View: 19, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-20 18:01:29) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 156ms (DB: 4) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 18:01:30) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 101ms (View: 94, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-20 18:01:34) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"EzuI5bUSx47IN6i8kpcU4wp9eiu1MTd7PfjXbH3yL9A=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 18:01:34) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb67c1314>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (57.6ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-20 18:03:26) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 104ms (View: 42, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 18:03:28) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 87ms (View: 59, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-20 18:03:30) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 82ms (View: 57, DB: 3) | 200 OK [http://127.0.0.1/users/2/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-20 18:03:33) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 64ms (View: 38, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-20 18:03:36) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 77ms (View: 53, DB: 2) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:14:57) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 147ms (DB: 4) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:14:58) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 106ms (View: 99, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:15:07) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"LJpKDiCYyb1eGZp5tlJZhdsgj7gG32wOpO4/s1a4y0I=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:15:07) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb67c237c>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (2.2ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:16:03) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 107ms (View: 33, DB: 6) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:16:06) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 88ms (View: 60, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 09:16:11) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 79ms (View: 55, DB: 2) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mPermission Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:19:48) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 57ms (View: 32, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (1.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 09:19:50) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 80ms (View: 39, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-10-21 09:19:54) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/store
Rendering products/new
Completed in 95ms (View: 59, DB: 3) | 200 OK [http://127.0.0.1/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-10-21 09:20:29) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"LJpKDiCYyb1eGZp5tlJZhdsgj7gG32wOpO4/s1a4y0I=", "product"=>{"price"=>"0.05", "image_url"=>"/image/huitailang1.jpg", "title"=>"乱码测试", "description"=>"不存在"}}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY '乱码测试') LIMIT 1[0m
  [4;36;1mProduct Create (0.4ms)[0m   [0;1mINSERT INTO `products` (`price`, `created_at`, `title`, `image_url`, `updated_at`, `description`) VALUES(0.05, '2009-10-21 01:20:29', '乱码测试', '/image/huitailang1.jpg', '2009-10-21 01:20:29', '不存在')[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/4
Completed in 53ms (DB: 10) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-21 09:20:29) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 131ms (View: 93, DB: 4) | 200 OK [http://127.0.0.1/products/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 09:20:31) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 86ms (View: 38, DB: 5) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 09:20:32) [GET]

ActionController::RoutingError (No route matches "/image/huitailang1.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#destroy (for 127.0.0.1 at 2009-10-21 09:20:37) [DELETE]
  Parameters: {"authenticity_token"=>"LJpKDiCYyb1eGZp5tlJZhdsgj7gG32wOpO4/s1a4y0I=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Destroy (0.2ms)[0m   [0mDELETE FROM `products` WHERE `id` = 4[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products
Completed in 42ms (DB: 8) | 302 Found [http://127.0.0.1/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 09:20:37) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 50ms (View: 29, DB: 2) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:28:12) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 149ms (DB: 4) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:28:12) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 106ms (View: 99, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:28:18) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:28:18) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 100ms (View: 20, DB: 5) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 09:28:21) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 141ms (View: 84, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:28:24) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 130ms (View: 105, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 09:28:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 67ms (View: 39, DB: 3) | 200 OK [http://127.0.0.1/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:28:28) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 36ms (View: 18, DB: 1) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 09:28:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 28ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/users/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:28:34) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 57ms (View: 32, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 09:30:04) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 118ms (View: 43, DB: 1) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 09:30:12) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"hehe", "password_confirmation"=>"hehe", "password"=>"hehe"}}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'hehe') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/new
Completed in 63ms (View: 29, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 09:30:23) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"nihao", "password_confirmation"=>"nihao", "password"=>"nihao"}}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'nihao') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('nihao', '-6170318880.177703955981185', '2009-10-21 01:30:23', '2009-10-21 01:30:23', 'a7a5254602986b615da39890b80225ce0a522a08')[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 39ms (DB: 7) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:30:23) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 59ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 09:31:40) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:31:40) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:31:46) [POST]
  Parameters: {"name"=>"nihao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"nihao"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'nihao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 28ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:31:47) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPermission Load (0.4ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
Completed in 53ms (View: 10, DB: 6) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:31:49) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 68ms (View: 43, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 09:31:53) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"3"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;36;1mUser Destroy (1.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 3[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 45ms (DB: 11) | 302 Found [http://127.0.0.1/users/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:31:53) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 94ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:31:53) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:31:57) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:31:57) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:32:00) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:34:35) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 53ms (View: 28, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:34:37) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 43ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 09:34:38) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 45ms (View: 19, DB: 2) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 09:34:48) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"nihao", "password_confirmation"=>"nihao", "password"=>"nihao"}}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'nihao') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('nihao', '-6173097180.529782014208682', '2009-10-21 01:34:48', '2009-10-21 01:34:48', 'c66a9a123f0262cf2baafc5af7f6ffa374e468cb')[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 40ms (DB: 8) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:34:48) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 40ms (View: 24, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 09:34:52) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:34:52) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:34:56) [POST]
  Parameters: {"name"=>"nihao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"nihao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'nihao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 28ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:34:56) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 4 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 4 ) [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 31ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:37:35) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 4 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 4 ) [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 46ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:37:38) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 58ms (View: 32, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 09:37:42) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/users
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:37:42) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 40ms (View: 25, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:38:05) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 40ms (View: 24, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 09:38:08) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/users
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:38:08) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 40ms (View: 25, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:38:25) [GET]
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 75ms (View: 47, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 09:38:28) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"4"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 4 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 4 ) [0m
  [4;35;1mUser Destroy (0.4ms)[0m   [0mDELETE FROM `users` WHERE `id` = 4[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (10.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 50ms (DB: 15) | 302 Found [http://127.0.0.1/users/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:38:28) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 21ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:38:28) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 09:38:34) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 17ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 09:38:34) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 92ms (View: 7, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 09:38:36) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 62ms (View: 34, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:11:55) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 45ms (View: 6, DB: 5) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:12:06) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 51ms (View: 11, DB: 5) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:12:11) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 88ms (View: 22, DB: 5) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:12:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 43ms (View: 8, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:12:48) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 60ms (View: 34, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:14:28) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 58ms (View: 33, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:14:54) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 59ms (View: 33, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:05) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 36ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:08) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 21ms (View: 11, DB: 8) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:09) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 49ms (View: 10, DB: 5) | 200 OK [http://127.0.0.1/admin]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:11) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 20ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:12) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:27) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 19ms (View: 10, DB: 1) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:28) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 52ms (View: 11, DB: 5) | 200 OK [http://127.0.0.1/admin]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:28) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 20ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:29) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 113ms (View: 7, DB: 4) | 200 OK [http://127.0.0.1/admin]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:15:31) [GET]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 20ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:15:35) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 57ms (View: 32, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:36) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 87ms (View: 51, DB: 4) | 200 OK [http://127.0.0.1/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:38) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 39ms (View: 33, DB: 5) | 200 OK [http://127.0.0.1/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:39) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 52ms (View: 47, DB: 1) | 200 OK [http://127.0.0.1/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:39) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 30ms (View: 27, DB: 1) | 200 OK [http://127.0.0.1/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:40) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 51ms (View: 46, DB: 1) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:45) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 135ms (View: 39, DB: 3) | 200 OK [http://127.0.0.1/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:47) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 54ms (View: 48, DB: 2) | 200 OK [http://127.0.0.1/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:48) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 52ms (View: 47, DB: 6) | 200 OK [http://127.0.0.1/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:48) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 54ms (View: 47, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:48) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 53ms (View: 28, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:15:50) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 62ms (View: 29, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:19:27) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 226ms (View: 105, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.7ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:19:35) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.4ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 178ms (View: 29, DB: 7) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 10:19:37) [GET]
  [4;35;1mUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 22ms (DB: 3) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 10:19:37) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 21ms (View: 16, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 10:19:40) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 28ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:19:40) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 11, DB: 5) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:19:43) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 36ms (View: 19, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:21:34) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

NoMethodError (undefined method `role_required' for #<UsersController:0xb671d700>):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (2.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:21:52) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 54ms (View: 23, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:21:55) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 39ms (View: 19, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 10:21:55) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 10:21:56) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 10:21:59) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 29ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:21:59) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mPermission Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:24:04) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb674a098>):
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (48.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:25:34) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb6667c5c>):
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:27:31) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb6781ef8>):
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (59.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:27:32) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb66a1510>):
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (74.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 10:27:35) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 10:27:36) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 10:27:39) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 16ms (DB: 1) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:27:39) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb6673868>):
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (101.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:28:45) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb671dc00>):
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:30:34) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<AdminController:0xb662ee0c>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/admin_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (118.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:30:51) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 37ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 10:30:53) [GET]

SyntaxError (/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:89: syntax error, unexpected kRESCUE, expecting kEND
      rescue Exception => e
            ^):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (60.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 10:31:33) [GET]

SyntaxError (/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:100: syntax error, unexpected kEND, expecting $end):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (123.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 10:31:58) [GET]

SyntaxError (/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:97: syntax error, unexpected kEND, expecting $end):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (68.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 10:32:36) [GET]

SyntaxError (/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:95: syntax error, unexpected kEND, expecting $end):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (65.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 10:32:37) [GET]

SyntaxError (/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:95: syntax error, unexpected kEND, expecting $end):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (115.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:35:32) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 63ms (View: 32, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:35:34) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 62ms (View: 31, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:35:59) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 39ms (View: 19, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:36:08) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 44ms (View: 18, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 10:36:16) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Rendering template within layouts/store
Rendering users/new
Completed in 125ms (View: 97, DB: 3) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 10:36:27) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"ssh", "password_confirmation"=>"ssh", "password"=>"ssh"}}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'ssh') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('ssh', '-6169343580.99935577365878', '2009-10-21 02:36:27', '2009-10-21 02:36:27', 'f2fb66f14120f44501b0cc66c8162e5e69ec72e6')[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 49ms (DB: 10) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:36:27) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 77ms (View: 43, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:38:35) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/user
Filter chain halted as [#<Proc:0xb6683e48@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 10:38:35) [GET]

ActionController::RoutingError (No route matches "/user" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:39:03) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 63ms (View: 32, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:39:04) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 68ms (View: 35, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:24) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66c2008@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:24) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6677238@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:24) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb662bb6c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:24) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6774de8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:24) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb672ae00@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:24) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66dc728@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb668f25c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 28ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6642a60@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 103ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb679a32c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb674f7dc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 37ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6701c58@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66b2d4c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 15ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6668260@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6615c54@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:25) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6774014@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:26) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb672a018@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:26) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66daef0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:26) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb668e2e4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:26) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66424c0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 86ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:26) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6799800@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:26) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb674ecb0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:26) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6700efc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:26) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66b2e00@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:27) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb666851c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:27) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6612c0c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 21ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:27) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb676ffc8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 15ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:27) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6725fe0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:27) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66d4654@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:27) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb668a11c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:27) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb663b134@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 101ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:27) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6794f80@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:30) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb674a480@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 27ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:30) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66fbca4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 27ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:30) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66ae5d0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:30) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6663cec@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:31) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6611578@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:31) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb676f6cc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 27ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:31) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb67256e4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:31) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66d3d44@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 15ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:31) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6689794@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:31) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb663d998@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 82ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:31) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6792b68@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:31) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6748130@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:32) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66f9940@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:32) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66ac280@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:32) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66619b0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 15ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:32) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb660bb00@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:32) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb676cb98@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:32) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6722bb0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:32) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66d1224@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:32) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6686cd8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:33) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb663aedc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:44:43) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6790570@/home/longjiahui/projects/Depot/app/controllers/admin_controller.rb:2>] rendered_or_redirected.
Completed in 27ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:43) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6747f8c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:43) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66f99f4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:43) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66ac58c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:43) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6661f14@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:43) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66101c8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:43) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb676ca80@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:43) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6722cdc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:44) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66d15a8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:44) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66872b4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:44) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb663b774@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:44) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6790674@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:44) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb67461f0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:44) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66f7c58@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:44) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66aa804@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:44) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66601dc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:45) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb660af98@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:45) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb676ca6c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 15ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:45) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb6722cdc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:45) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66d15a8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:44:45) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/users
Filter chain halted as [#<Proc:0xb66872b4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 10:45:18) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:45:21) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 42ms (View: 24, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:45:24) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 75ms (View: 44, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 10:46:11) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 73ms (View: 42, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:51:48) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 163ms (View: 92, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to CreateUser (20091015083113)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'users' already exists: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `hashed_password` varchar(255), `salt` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to GenerateAccessControlModels (20091020083707)
Migrating to CreateMultiplePermissionsAddUserDeleteUserUpdateUser (20091020083957)
Migrating to CreatePermissionAddProduct (20091021025409)
  [4;36;1mSQL (35.0ms)[0m   [0;1mALTER TABLE `permissions` ADD `add_product` tinyint(1)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091021025409')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `user_roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `user_roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 10:58:02) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (Permission (add_product) does not exist):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/products_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:00:33) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (Permission (add_product) does not exist):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/products_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:00:34) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (Permission (add_product) does not exist):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/products_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:00:39) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (Permission (add_product) does not exist):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/products_controller.rb:2
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (124.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.8ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:01:16) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 121ms (View: 49, DB: 7) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.8ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:01:18) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 76ms (View: 34, DB: 6) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:01:19) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 52ms (View: 27, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-10-21 11:01:21) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/store
Rendering products/new
Completed in 114ms (View: 90, DB: 3) | 200 OK [http://127.0.0.1/products/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-10-21 11:01:52) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "product"=>{"price"=>"1", "image_url"=>"/images/perl.jpg", "title"=>"ss", "description"=>"sssssssssssssssssssssssssss"}}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'ss') LIMIT 1[0m
  [4;35;1mProduct Create (0.4ms)[0m   [0mINSERT INTO `products` (`price`, `created_at`, `title`, `image_url`, `updated_at`, `description`) VALUES(1.0, '2009-10-21 03:01:52', 'ss', '/images/perl.jpg', '2009-10-21 03:01:52', 'sssssssssssssssssssssssssss')[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/4
Completed in 58ms (DB: 11) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-21 11:01:52) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 74ms (View: 31, DB: 6) | 200 OK [http://127.0.0.1/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:01:57) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 63ms (View: 36, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 11:01:57) [GET]

ActionController::RoutingError (No route matches "/images/perl.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-10-21 11:02:01) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 106ms (View: 63, DB: 5) | 200 OK [http://127.0.0.1/products/4/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-10-21 11:02:24) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"4", "product"=>{"price"=>"1.00", "image_url"=>"/images/perl.jpg", "title"=>"ss", "description"=>"sssssssssssssssssssssssssss\r\n\r\nwhat ?Over my head!"}}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'ss' AND `products`.id <> 4) LIMIT 1[0m
  [4;35;1mProduct Update (0.4ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-10-21 03:02:24', `description` = 'sssssssssssssssssssssssssss\r\n\r\nwhat ?Over my head!' WHERE `id` = 4[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/4
Completed in 56ms (DB: 11) | 302 Found [http://127.0.0.1/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-21 11:02:24) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 96ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-10-21 11:02:26) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 69ms (View: 25, DB: 5) | 200 OK [http://127.0.0.1/products/4/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-10-21 11:02:44) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"4", "product"=>{"price"=>"1.00", "image_url"=>"/images/langyangyang.jpg", "title"=>"ss", "description"=>"sssssssssssssssssssssssssss\r\n\r\nwhat ?Over my head!"}}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'ss' AND `products`.id <> 4) LIMIT 1[0m
  [4;35;1mProduct Update (0.2ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-10-21 03:02:44', `image_url` = '/images/langyangyang.jpg' WHERE `id` = 4[0m
  [4;36;1mSQL (6.6ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/4
Completed in 47ms (DB: 11) | 302 Found [http://127.0.0.1/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-21 11:02:44) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 32ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:02:46) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 156ms (View: 37, DB: 5) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 11:02:46) [GET]

ActionController::RoutingError (No route matches "/images/langyangyang.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#edit (for 127.0.0.1 at 2009-10-21 11:02:51) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/store
Rendering products/edit
Completed in 66ms (View: 24, DB: 5) | 200 OK [http://127.0.0.1/products/4/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#update (for 127.0.0.1 at 2009-10-21 11:03:05) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"4", "product"=>{"price"=>"1.00", "image_url"=>"/images/lanyangyang.jpg", "title"=>"ss", "description"=>"sssssssssssssssssssssssssss\r\n\r\nwhat ?Over my head!"}}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'ss' AND `products`.id <> 4) LIMIT 1[0m
  [4;35;1mProduct Update (0.4ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-10-21 03:03:05', `image_url` = '/images/lanyangyang.jpg' WHERE `id` = 4[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/4
Completed in 44ms (DB: 10) | 302 Found [http://127.0.0.1/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-21 11:03:05) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 4) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 31ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/products/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:03:07) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 62ms (View: 35, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editor') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;36;1mPermission Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 11:07:37) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 11:07:37) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 34ms (View: 27, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 11:07:41) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 28ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (1.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 11:07:41) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 124ms (View: 12, DB: 6) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:07:43) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 65ms (View: 35, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-10-21 11:07:44) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/store
Rendering products/new
Completed in 65ms (View: 23, DB: 5) | 200 OK [http://127.0.0.1/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-10-21 11:17:24) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/store
Rendering products/new
Completed in 50ms (View: 12, DB: 4) | 200 OK [http://127.0.0.1/products/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-10-21 11:18:34) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "product"=>{"price"=>"0.0", "image_url"=>"/images/meiyangyang.jpg", "title"=>"big mess", "description"=>"dove band\r\nsum41\r\nI'm looking for a rock and penk band..."}}
  [4;36;1mUser Columns (16.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'big mess') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering products/new
Completed in 141ms (View: 20, DB: 19) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#create (for 127.0.0.1 at 2009-10-21 11:18:38) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "product"=>{"price"=>"0.03", "image_url"=>"/images/meiyangyang.jpg", "title"=>"big mess", "description"=>"dove band\r\nsum41\r\nI'm looking for a rock and penk band..."}}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`title` = BINARY 'big mess') LIMIT 1[0m
  [4;35;1mProduct Create (0.5ms)[0m   [0mINSERT INTO `products` (`price`, `created_at`, `title`, `image_url`, `updated_at`, `description`) VALUES(0.03, '2009-10-21 03:18:38', 'big mess', '/images/meiyangyang.jpg', '2009-10-21 03:18:38', 'dove band\r\nsum41\r\nI\'m looking for a rock and penk band...')[0m
  [4;36;1mSQL (20.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/products/5
Completed in 76ms (DB: 26) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#show (for 127.0.0.1 at 2009-10-21 11:18:38) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering template within layouts/store
Rendering products/show
Completed in 57ms (View: 14, DB: 5) | 200 OK [http://127.0.0.1/products/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:18:40) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 84ms (View: 42, DB: 5) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:21:54) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 69ms (View: 41, DB: 3) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:45:48) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 75ms (View: 41, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 11:45:51) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 116ms (View: 73, DB: 5) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 11:45:53) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 88ms (View: 57, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 11:45:58) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 71ms (View: 40, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 11:46:31) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 147ms (View: 33, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mPermission Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 13:20:08) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 121ms (View: 73, DB: 5) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 13:20:10) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 30ms (DB: 3) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:20:11) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:20:16) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:20:16) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 13:20:18) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 109ms (View: 68, DB: 5) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#new (for 127.0.0.1 at 2009-10-21 13:20:21) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendering template within layouts/store
Rendering products/new
Completed in 59ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/products/new]
  [4;36;1mSQL (90.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 13:33:57) [GET]
  [4;36;1mUser Columns (153.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (38.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 2416ms (View: 117, DB: 347) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 13:34:02) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 109ms (View: 67, DB: 5) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 13:34:03) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 84ms (View: 42, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:34:04) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 64ms (View: 30, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 13:34:07) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 121ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:34:08) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 67ms (View: 32, DB: 28) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:34:13) [POST]
  Parameters: {"name"=>"ssh", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"ssh"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (24.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'ssh') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 53ms (DB: 26) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:34:13) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.8ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPermission Load (18.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (30.4ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;35;1mOrder Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
Completed in 101ms (View: 10, DB: 53) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:34:15) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 72ms (View: 39, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 13:34:18) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"3"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
Redirected to http://127.0.0.1:3000/users
Completed in 35ms (DB: 4) | 302 Found [http://127.0.0.1/users/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:34:18) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 50ms (View: 29, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 13:34:32) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"2"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 2 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 2 ) [0m
  [4;35;1mUser Destroy (0.3ms)[0m   [0mDELETE FROM `users` WHERE `id` = 2[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (6.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 36ms (DB: 10) | 302 Found [http://127.0.0.1/users/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:34:32) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;36;1mUser Load (45.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 84ms (View: 19, DB: 48) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 13:35:25) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
Rendering template within layouts/store
Rendering users/new
Completed in 68ms (View: 37, DB: 4) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 13:35:34) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"gaga", "password_confirmation"=>"gaga", "password"=>"gaga"}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'gaga') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('gaga', '-6168484180.311505668546765', '2009-10-21 05:35:34', '2009-10-21 05:35:34', '9a0b4921892fea285cea6dce7cfbbe92fe8e5093')[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 39ms (DB: 5) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:35:34) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 57ms (View: 32, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 13:35:38) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:35:38) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:35:50) [POST]
  Parameters: {"name"=>"gaga", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"gaga"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 29ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:35:50) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (15.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 4 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 4 ) [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 116ms (View: 6, DB: 21) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:35:52) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 4 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 4 ) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 74ms (View: 41, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 13:35:55) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"4"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 4 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 4 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Redirected to http://127.0.0.1:3000/users
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/4]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:35:55) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 4 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 4 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 44ms (View: 24, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 13:36:00) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 4 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 4 ) [0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 28ms (DB: 4) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:36:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 13ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:36:08) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:36:08) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:36:10) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 77ms (View: 44, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (57.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:42:26) [GET]
  [4;35;1mUser Columns (86.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb6609814@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 431ms (DB: 186) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:42:27) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 136ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:42:30) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb673c470@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 45ms (DB: 22) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:42:30) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 46ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:42:31) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb6668ecc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:42:32) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 27ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:42:33) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb6704264@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 27ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:42:33) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 49ms (View: 13, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:42:36) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 45ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:42:39) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb676652c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:42:39) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 36ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:42:56) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 45ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:42:58) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NoMethodError (undefined method `forward_url' for #<UsersController:0xb6772c14>):
  app/controllers/application_controller.rb:16:in `permission_required'
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (65.3ms)
Rendered rescues/_request_and_response (40.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:45:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<UsersController:0xb6679344>):
  app/controllers/application_controller.rb:15:in `permission_required'
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-21 13:46:32) [GET]
  [4;36;1mProduct Load (71.7ms)[0m   [0;1mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (8.6ms)
Completed in 483ms (View: 280, DB: 73) | 200 OK [http://127.0.0.1/store]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-21 13:46:36) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"5"}
  [4;36;1mProduct Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (10.2ms)
Rendered store/_cart (34.6ms)
Completed in 98ms (View: 51, DB: 3) | 200 OK [http://127.0.0.1/store/add_to_cart/5]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-21 13:46:38) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"2"}
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (8.4ms)
Rendered store/_cart_item (1.1ms)
Rendered store/_cart (16.0ms)
Completed in 53ms (View: 20, DB: 3) | 200 OK [http://127.0.0.1/store/add_to_cart/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-21 13:46:40) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"1"}
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (89.4ms)
Rendered store/_cart_item (0.7ms)
Rendered store/_cart_item (0.7ms)
Rendered store/_cart (95.3ms)
Completed in 131ms (View: 99, DB: 3) | 200 OK [http://127.0.0.1/store/add_to_cart/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#checkout (for 127.0.0.1 at 2009-10-21 13:46:44) [POST]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM="}
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
Rendering template within layouts/store
Rendering store/checkout
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart_item (7.1ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (12.2ms)
Completed in 93ms (View: 56, DB: 3) | 200 OK [http://127.0.0.1/store/checkout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#save_order (for 127.0.0.1 at 2009-10-21 13:47:09) [POST]
  Parameters: {"commit"=>"Place Order", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "order"=>{"address"=>"wuhan", "name"=>"son", "pay_type"=>"cc", "email"=>"wuhan"}}
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mLineItem Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mProduct Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOrder Create (67.4ms)[0m   [0;1mINSERT INTO `orders` (`name`, `address`, `created_at`, `updated_at`, `pay_type`, `email`) VALUES('son', 'wuhan', '2009-10-21 05:47:09', '2009-10-21 05:47:09', 'cc', 'wuhan')[0m
  [4;35;1mLineItem Create (21.4ms)[0m   [0mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-21 05:47:09', 5, 1, 3, 0.03, '2009-10-21 05:47:09')[0m
  [4;36;1mLineItem Create (0.3ms)[0m   [0;1mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-21 05:47:09', 2, 1, 3, 10.0, '2009-10-21 05:47:09')[0m
  [4;35;1mLineItem Create (0.3ms)[0m   [0mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-21 05:47:09', 1, 1, 3, 28.5, '2009-10-21 05:47:09')[0m
  [4;36;1mSQL (5.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/store
Completed in 235ms (DB: 100) | 302 Found [http://127.0.0.1/store/save_order]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-21 13:47:09) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;36;1mProduct Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (5.6ms)
Completed in 89ms (View: 64, DB: 3) | 200 OK [http://127.0.0.1/store]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 13:47:16) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:47:16) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:47:22) [POST]
  Parameters: {"name"=>"nn", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"nn"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'nn') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 42ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:47:28) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 60ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:47:28) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (59.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (6.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 115ms (View: 10, DB: 70) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:47:33) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 76ms (View: 53, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 13:47:37) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:47:37) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:47:54) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 34ms (DB: 4) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:47:54) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:47:56) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 49ms (View: 25, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 13:48:04) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"1"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://127.0.0.1:3000/users
Completed in 41ms (DB: 4) | 302 Found [http://127.0.0.1/users/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:48:04) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 77ms (View: 36, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 13:48:08) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Rendering template within layouts/store
Rendering users/new
Completed in 57ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 13:48:16) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"jingtian", "password_confirmation"=>"jingtian", "password"=>"jingtian"}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (39.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'jingtian') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('jingtian', '-6168224280.876070581593362', '2009-10-21 05:48:16', '2009-10-21 05:48:16', '36d9d6a148a6b21d7c3b35b4624097f057904909')[0m
  [4;35;1mSQL (22.8ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 212ms (DB: 65) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:48:16) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 67ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 13:48:25) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Rendering template within layouts/store
Rendering users/new
Completed in 46ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 13:48:30) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"nn", "password_confirmation"=>"nn", "password"=>"nn"}}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'nn') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('nn', '-6176742980.839789926496353', '2009-10-21 05:48:30', '2009-10-21 05:48:30', '44fd554f9fbd9e98b727f7c88da86204a2286514')[0m
  [4;36;1mSQL (22.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 72ms (DB: 27) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:48:30) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 159ms (View: 121, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 13:48:32) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Rendering template within layouts/store
Rendering users/new
Completed in 56ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 13:48:38) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"ss", "password_confirmation"=>"ss", "password"=>"ss"}}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'ss') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('ss', '-6173319680.115236034526371', '2009-10-21 05:48:38', '2009-10-21 05:48:38', 'd85812cc936e6776e57699443db1c2602b9f1d63')[0m
  [4;35;1mSQL (7.3ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 60ms (DB: 12) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:48:38) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 65ms (View: 42, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 13:48:41) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 85ms (View: 47, DB: 4) | 200 OK [http://127.0.0.1/users/7]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 13:48:47) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Rendering template within layouts/store
Rendering users/new
Completed in 34ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 13:48:50) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"mm", "password_confirmation"=>"", "password"=>""}}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'mm') LIMIT 1[0m
  [4;36;1mSQL (14.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/new
Completed in 81ms (View: 24, DB: 18) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 13:48:56) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"mm", "password_confirmation"=>"mm", "password"=>"mm"}}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'mm') LIMIT 1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('mm', '-6174690980.778015369225341', '2009-10-21 05:48:56', '2009-10-21 05:48:56', '6ed360369920faec54e9da7bd6ec4c7328ff4955')[0m
  [4;36;1mSQL (110.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 139ms (DB: 113) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:48:56) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 133ms (View: 90, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 13:48:59) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Rendering template within layouts/store
Rendering users/new
Completed in 34ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 13:49:03) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"aa", "password_confirmation"=>"aa", "password"=>"aa"}}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'aa') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('aa', '-6171560780.728178540226728', '2009-10-21 05:49:03', '2009-10-21 05:49:03', 'a42776aa7e65bd3a27a9c881435b739a206f5ae3')[0m
  [4;35;1mSQL (5.5ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 49ms (DB: 10) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:49:03) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 78ms (View: 53, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 13:49:16) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Rendering template within layouts/store
Rendering users/new
Completed in 41ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 13:49:26) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"xiaoxiao", "password_confirmation"=>"xiaoxiao", "password"=>"xiaoxiao"}}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'xiaoxiao') LIMIT 1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('xiaoxiao', '-6168675880.515395179017614', '2009-10-21 05:49:26', '2009-10-21 05:49:26', '4568e03a32d5cf5888c4ab08fa7dbffc11496498')[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 35ms (DB: 8) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:49:26) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 79ms (View: 56, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 13:49:41) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 51ms (View: 13, DB: 4) | 200 OK [http://127.0.0.1/users/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-21 13:49:43) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 96ms (View: 58, DB: 4) | 200 OK [http://127.0.0.1/users/7/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#update (for 127.0.0.1 at 2009-10-21 13:49:54) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"7", "user"=>{"salt"=>"sss", "name"=>"ss", "hashed_password"=>"sss"}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'ss' AND `users`.id <> 7) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2009-10-21 05:49:54', `salt` = 'sss', `hashed_password` = 'sss' WHERE `id` = 7[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 36ms (DB: 6) | 302 Found [http://127.0.0.1/users/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:49:54) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 81ms (View: 58, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 13:50:00) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:50:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 23ms (View: 10, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:50:03) [POST]
  Parameters: {"name"=>"ss", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"ss"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'ss') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 247ms (View: 32, DB: 3) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:50:06) [POST]
  Parameters: {"name"=>"ss", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"sss"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'ss') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:50:15) [POST]
  Parameters: {"name"=>"ss", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"sss"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'ss') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 45ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:50:21) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 34ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:50:21) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 41ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:50:23) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 150ms (View: 129, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:54:58) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 98ms (View: 61, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 13:55:07) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"7"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Load (0.4ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 7 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 7 ) [0m
  [4;36;1mUser Destroy (28.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 7[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (20.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 97ms (DB: 54) | 302 Found [http://127.0.0.1/users/7]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:55:07) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 89ms (View: 53, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 13:55:16) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 6 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 6 ) [0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM `users` WHERE `id` = 6[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (4.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 46ms (DB: 8) | 302 Found [http://127.0.0.1/users/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:55:16) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 72ms (View: 48, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mPermission Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 13:59:35) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"3"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 3 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 3 ) [0m
  [4;36;1mUser Destroy (0.2ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 3[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (93.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 232ms (DB: 115) | 302 Found [http://127.0.0.1/users/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:59:35) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 268ms (View: 223, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:59:46) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 106ms (View: 66, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 13:59:49) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 29ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:59:49) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 65ms (View: 56, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 13:59:55) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 13:59:56) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 72ms (View: 32, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 13:59:57) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 114ms (View: 75, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 14:00:08) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"9"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Load (0.4ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 9 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1mRole Load (18.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 9 ) [0m
  [4;36;1mUser Destroy (0.4ms)[0m   [0;1mDELETE FROM `users` WHERE `id` = 9[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mSQL (8.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 76ms (DB: 32) | 302 Found [http://127.0.0.1/users/9]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:00:08) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 131ms (View: 36, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 0) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mPermission Load (0.5ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'Role') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Wed Oct 21 14:12:05 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Wed Oct 21 14:12:29 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Wed Oct 21 14:13:00 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Wed Oct 21 14:15:23 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Wed Oct 21 14:15:28 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Wed Oct 21 14:15:31 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Wed Oct 21 14:15:35 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Wed Oct 21 14:16:21 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Wed Oct 21 14:16:24 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
/!\ FAILSAFE /!\  Wed Oct 21 14:17:11 +0800 2009
  Status: 500 Internal Server Error
  /home/longjiahui/projects/Depot/app/controllers/application_controller.rb:45: syntax error, unexpected $end, expecting kEND
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 14:18:11) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 254ms (View: 117, DB: 30) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 14:26:38) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 49ms (View: 7, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 14:26:41) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (73.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 315ms (View: 122, DB: 79) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:26:47) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 97ms (View: 72, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 14:26:54) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"5"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 5 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 5 ) [0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM `users` WHERE `id` = 5[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (4.4ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3001/users
Completed in 36ms (DB: 8) | 302 Found [http://127.0.0.1/users/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:26:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (13.8ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 66ms (View: 30, DB: 16) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:29:43) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 75ms (View: 37, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 14:29:46) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"1"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Redirected to http://127.0.0.1:3001/users
Completed in 38ms (DB: 4) | 302 Found [http://127.0.0.1/users/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:29:46) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 118ms (View: 30, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:38:33) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (Permission (dd_user) does not exist):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (80.9ms)
Rendered rescues/_request_and_response (14.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:39:48) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 143ms (View: 65, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:39:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 53ms (View: 29, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:39:55) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 69ms (View: 31, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:40:00) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
Completed in 135ms (View: 30, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:40:50) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.9ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:41:10) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (:add_user):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (126.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:41:39) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

RuntimeError (false):
  app/controllers/application_controller.rb:13:in `permission_required'
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:55:13) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (138.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:56:18) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:56:22) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:58:11) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<UsersController:0xb7448b28>):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.5ms)
Rendered rescues/_request_and_response (60.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 14:58:26) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<UsersController:0xb67f7fcc>):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:07:31) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

NameError (undefined local variable or method `redirect_back_or_default' for #<UsersController:0xb6716554>):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:09:16) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb751dc38@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 60ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:16) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb731a558@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:16) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb792a4ac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:17) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6861d28@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:17) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6811b34@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:17) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67c1954@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:17) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6771774@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:17) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6721594@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 27ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:17) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb686acc0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:17) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb681aacc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:18) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67ca8ec@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 30ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:18) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb677a6f8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:18) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb672a4dc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:18) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66d2b4c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:18) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6820f6c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:18) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67d0d8c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:18) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6780b98@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:18) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67301d4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:19) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66dee24@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:19) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb68249dc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:19) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67d47fc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 30ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:52) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6783500@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:52) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6732574@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:52) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66d61ac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:53) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb68297c0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:53) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67d95cc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:53) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6788730@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:53) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6737b14@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:53) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66e678c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 28ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:53) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb682f1ac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:53) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67defb8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 29ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:53) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb678edd8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:54) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb673d5a0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 49ms (DB: 19) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:54) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66ea990@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:54) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6836254@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:54) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e6074@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:54) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6795e08@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:54) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6744800@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:54) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66f2820@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 23ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:55) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.4ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb683af98@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:55) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67eada4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:09:55) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb679abc4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 21ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:09:59) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 68ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:10:04) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6869294@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:04) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6818f60@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:04) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67c8b28@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:04) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6777a34@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:04) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6725414@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:05) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb686c714@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:05) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb681c2b4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:05) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67cbe7c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:05) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb677ad88@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:05) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6729eb0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:05) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66d197c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:05) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6821ae8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:05) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67d16b0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:06) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67805bc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:06) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb672f6d0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:06) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66d8ed4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:06) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6825fe4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:06) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67d5b34@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:06) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6784a40@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:06) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6733730@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:07) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66d43c0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:10:37) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 73ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:10:44) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 15:10:48) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 31ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:10:48) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 36ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:10:53) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 48ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:10:54) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 34ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:10:58) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6814bf4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:58) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67c471c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:58) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67741b8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 44ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:59) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6722bec@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:59) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66c98f8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:59) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6827240@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:59) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67d6db8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:59) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb678678c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 29ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:59) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb673579c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:10:59) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66da090@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:00) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb682c4ac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:00) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67dc010@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 34ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:00) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb678b9e4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:00) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb673a1ac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:00) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66e2588@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 27ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:00) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6830bec@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:00) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e05fc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:01) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb679000c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:01) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb673f1ac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:01) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66e556c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:01) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb68360c4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 23ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:11:34) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 51ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb675a678@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67071f8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6835e6c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e4be8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67946d4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67420c8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66e1f98@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb683a69c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e9378@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:36) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6798630@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb674695c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66efb48@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6841014@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67f0ac4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb679efa8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb674d2d4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66f5250@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 85ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6846974@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67f63d4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67a48b8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:11:37) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6752be4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 15:12:46) [GET]

ActionController::RoutingError (No route matches "/ad" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:12:51) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 55ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:13:27) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 15:13:37) [GET]

ActionController::RoutingError (No route matches "/adm" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:13:43) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 51ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 15:13:47) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:13:47) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:15:16) [GET]
  [4;35;1mUser Load (29.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 34ms (DB: 35) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:15:21) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 15ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:15:21) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 23ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:15:29) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:15:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 91ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:15:54) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 21ms (View: 8, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:15:56) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:16:05) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 29ms (DB: 1) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:16:05) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:16:27) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 13, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:16:34) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:16:35) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:16:43) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 20ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:16:43) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:16:50) [POST]
  Parameters: {"name"=>"h", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"e"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'h') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:17:00) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 83ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:17:00) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:19:34) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 51ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:19:35) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 29ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 15:19:36) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:19:36) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:19:37) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:19:38) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:19:44) [POST]
  Parameters: {"name"=>"jingtin", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"ss"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'jingtin') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 47ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:19:54) [POST]
  Parameters: {"name"=>"jingtian", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"jingtian"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'jingtian') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:20:00) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 26ms (DB: 1) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:20:00) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 30ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66c47a4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb68356d8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e43c8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6793d60@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb673f8a0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66ea60c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6839ecc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e8b1c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6797ce4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67430a4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:03) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66ebad4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 23ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6844368@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67f3210@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67a29b4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb674e0bc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66f8ab8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 80ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6849ef8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67f99d0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67a7cfc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6753328@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:20:04) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66fcd0c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 77ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:21:37) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 49ms (View: 8, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:21:48) [POST]
  Parameters: {"name"=>"jingtian", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"jingtian"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'jingtian') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:21:54) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 82ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:21:54) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 44ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:21:57) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e98f0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:57) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6798cd4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 34ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:57) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb674622c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:57) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66df8b0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 85ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:57) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb684ccac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:57) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67fc798@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 22ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:57) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67ab3e8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:57) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb675a59c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6705fec@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 80ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6851d10@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb680170c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67afc18@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb675ebc4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (5.3ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6708490@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 78ms (DB: 7) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb685c65c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb680b2fc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67b9f88@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6768ffc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6714998@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6864014@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:21:58) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb68128f4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:00) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67c0e78@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:00) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb676fe74@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:00) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb671ece0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:00) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb686ba6c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:00) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6819910@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:00) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67c8574@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:00) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67778b8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:00) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6725dd8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66cd2a0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb681f57c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67ce1b8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb677d36c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb672b850@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66d304c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb68229e8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67d1624@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67807d8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb672e848@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66cd610@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb68278bc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:22:01) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67d64e4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:24:26) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67838d4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:26) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6731de0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:26) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66dc458@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:26) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb682cbdc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:27) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67dc63c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:27) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb678b728@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 30ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:27) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6739c70@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:27) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66e47ac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:27) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb68315ec@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 25ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:27) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e104c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 21ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:27) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6790bec@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:27) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb673f044@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66e84d8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb683965c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67e90bc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6798c70@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67476a4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb66f1768@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 23ms (DB: 2) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb6840038@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:29) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb67efb88@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-21 15:24:29) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users/login
Filter chain halted as [#<Proc:0xb679f638@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 26ms (DB: 4) | 302 Found [http://127.0.0.1/users/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:26:28) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 73ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 15:26:39) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:26:39) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 21ms (View: 13, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:27:15) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 28ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:27:30) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 29ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:27:30) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:27:37) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:27:37) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:27:42) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (71.3ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.7ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:30:37) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (135.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:30:46) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 55ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:31:16) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 52ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 15:31:19) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:31:19) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:31:20) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:31:21) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:31:26) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:31:26) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:31:29) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:35:48) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (110.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:35:50) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:35:59) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:36:03) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

RuntimeError (#<User id: 1, name: "hehe", hashed_password: "db9af99475ea4f712b2ab1074d81336704497fb2", salt: "-6071528380.756817360520951", created_at: "2009-10-20 07:57:21", updated_at: "2009-10-20 07:57:21">):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (139.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:40:38) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 74ms (View: 23, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 15:40:52) [GET]

ActionController::RoutingError (No route matches "/user" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:40:55) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

ActionController::RedirectBackError (No HTTP_REFERER was set in the request to this action, so redirect_to :back could not be called successfully. If this is a test, make sure to specify request.env["HTTP_REFERER"].):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.3ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:41:10) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 16ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:41:10) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 20ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:41:13) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 13ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:41:16) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:41:25) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 15ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:41:25) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:41:30) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:41:30) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 30ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:41:35) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb674988c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:41:35) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 28ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:41:35) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:41:48) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 33ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:41:48) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:41:54) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67566f4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:41:54) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:41:55) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:43:54) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 55ms (View: 38, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:44:00) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 25ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:44:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 71ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:44:04) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 29ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:44:05) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 39ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:44:09) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

ArgumentError (wrong number of arguments (1 for 0)):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (116.1ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:45:07) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:45:07) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:45:15) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:45:15) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:45:18) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m

ArgumentError (wrong number of arguments (1 for 0)):
  app/controllers/users_controller.rb:3
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:46:48) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 42ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:46:48) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:46:53) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:46:53) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 39ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 15:46:55) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67f57b8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 66ms (DB: 5) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:46:55) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 16ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:46:55) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:57:40) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 54ms (View: 38, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:57:45) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mSHOW TABLES[0m

NoMethodError (undefined method `index' for #<Class:0xb783a9ac>):
  app/controllers/admin_controller.rb:11:in `login'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (104.8ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:58:42) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 15:58:52) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:58:52) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 15:58:58) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m

NoMethodError (undefined method `index' for #<Class:0xb659df88>):
  app/controllers/admin_controller.rb:11:in `login'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (106.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:03:27) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 77ms (View: 22, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:03:31) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6670cd0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 68ms (DB: 6) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:03:31) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 54ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:03:35) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6593efc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:03:35) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:05:17) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 117ms (View: 64, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:05:29) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 55ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:05:50) [GET]
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 98ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:06:01) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:06:03) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 34ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:06:03) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 34ms (View: 21, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:06:04) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:06:05) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:06:10) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 34ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:06:10) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 46ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:06:13) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb65d2544@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 65ms (DB: 6) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:06:13) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:06:14) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:07:05) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:07:12) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 23ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:07:12) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 72ms (View: 64, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:07:19) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:07:19) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 35ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:07:22) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6623930@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:07:22) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:07:22) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 16ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mPermission Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPermission Create (100.8ms)[0m   [0mINSERT INTO `permissions` (`created_at`, `update_user`, `add_user`, `delete_user`, `authorizable_type`, `updated_at`, `authorizable_id`, `god`, `add_product`) VALUES('2009-10-21 08:12:15', NULL, NULL, NULL, NULL, '2009-10-21 08:12:15', NULL, 0, NULL)[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPermission Load (64.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPermission Update (0.5ms)[0m   [0mUPDATE `permissions` SET `updated_at` = '2009-10-21 08:12:15', `authorizable_type` = 'User', `authorizable_id` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Update (0.4ms)[0m   [0;1mUPDATE `permissions` SET `updated_at` = '2009-10-21 08:12:15', `add_user` = 1 WHERE `id` = 2[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:13:06) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 106ms (DB: 4) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:13:07) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 98ms (View: 83, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:13:15) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 36ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:13:15) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 25, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:13:17) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Columns (15.9ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.5ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (52.5ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
Completed in 194ms (View: 72, DB: 71) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:14:29) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:14:30) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:14:33) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"mm"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 36ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:14:33) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 44ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:14:35) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67151b8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:14:35) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 105ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:14:41) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67ffb3c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 33ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:14:42) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 54ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:14:49) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6747550@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:14:49) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 45ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:14:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb668697c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:14:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 30ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 16:14:57) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6791150@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 32ms (DB: 4) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:14:57) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 51ms (View: 9, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:14:59) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb66dbc60@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 35ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:14:59) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 32ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:15:05) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 31ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:15:05) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:15:09) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 33ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:15:09) [GET]
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 51ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:15:11) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
Completed in 64ms (View: 31, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 16:15:59) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users
Filter chain halted as [#<Proc:0xb6783c6c@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 34ms (DB: 3) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:16:00) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
Completed in 91ms (View: 55, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:16:05) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
Completed in 68ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:16:07) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
Completed in 140ms (View: 31, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 16:16:08) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/users
Filter chain halted as [#<Proc:0xb67a301c@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:16:08) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
Completed in 86ms (View: 51, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:17:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 74ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:17:42) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:17:45) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:17:45) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 23ms (View: 14, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:18:15) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:18:15) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:18:21) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"mm"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 33ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:18:21) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 103ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:18:24) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67a4430@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 67ms (DB: 5) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:18:24) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 28ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:18:24) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:19:23) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 17ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:19:48) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 41ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:19:48) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:19:52) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>""}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 116ms (View: 83, DB: 3) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:19:56) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"mm"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:19:56) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 38ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:20:01) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6827f4c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 65ms (DB: 5) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:20:01) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 55ms (View: 12, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 16:20:04) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6754b60@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:20:04) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 30ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:20:07) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 30ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:20:07) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:20:11) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 23ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:20:11) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:20:13) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
Completed in 108ms (View: 72, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:23:50) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 75ms (View: 25, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:24:02) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:24:58) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 73ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:25:01) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 31ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:25:01) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 105ms (View: 92, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:25:03) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:25:04) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:25:15) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"mm"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 38ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:25:15) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 33ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:25:17) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mPermission Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
Completed in 98ms (View: 44, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:26:05) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 46ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:26:05) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 31ms (View: 24, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:26:11) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"mm"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:26:11) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 39ms (View: 13, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:26:13) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67fed90@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 64ms (DB: 5) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:26:13) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:26:13) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:26:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 43ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:26:55) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:27:00) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"mm"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:27:00) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 38ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:27:02) [GET]
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb679b650@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 64ms (DB: 6) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:27:02) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:27:02) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:27:11) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"mm"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 107ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:27:11) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 31ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:27:13) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 8 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1muser_roles Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 8 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb677f7e8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:3>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:27:13) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:27:13) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Rails::InfoController#properties (for 127.0.0.1 at 2009-10-21 16:28:46) [GET]
  [4;36;1mSQL (86.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Completed in 248ms (View: 35, DB: 87) | 200 OK [http://127.0.0.1/rails/info/properties]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:28:50) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 72ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:28:50) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:28:54) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:28:54) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 16:28:56) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb680ded0@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 47ms (DB: 4) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:28:56) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:28:59) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
Completed in 143ms (View: 40, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'jingtian') LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'ssh') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'ss') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'sss') LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (28.5ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 4 ) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-21 16:35:43) [GET]

ActionController::RoutingError (No route matches "/a" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:35:46) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 91ms (View: 23, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:35:50) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 140ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:35:50) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 35ms (View: 21, DB: 1) | 200 OK [http://127.0.0.1/admin/login]


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:36:03) [GET]
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 5ms (DB: 6) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:36:07) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:36:07) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:36:13) [POST]
  Parameters: {"name"=>"gaga", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"gaga"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:36:13) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 56ms (View: 11, DB: 7) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:36:15) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 4 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb679249c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 60ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:36:16) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 40ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:36:35) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
Completed in 57ms (View: 39, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (29.2ms)[0m   [0;1mdescribe `user_roles`[0m
  [4;35;1mSQL (58.1ms)[0m   [0mINSERT INTO `user_roles` (`role_id`, `user_id`) VALUES (1, 10)[0m
  [4;36;1mSQL (21.2ms)[0m   [0;1mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:39:46) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 73ms (View: 22, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:39:51) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 4 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb72630d8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 44ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:39:51) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:39:52) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 31ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:39:52) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 35ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:39:59) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:39:59) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:40:01) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb664c538@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (1.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:40:01) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:40:11) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:40:11) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 40ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:40:14) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
Completed in 153ms (View: 114, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 16:40:15) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mPermission Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Load (0.4ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 10 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 10 ) [0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'Role') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/users
Filter chain halted as [#<Proc:0xb678e748@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 46ms (DB: 5) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:40:16) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
Completed in 51ms (View: 30, DB: 2) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:42:57) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 140ms (View: 85, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:43:01) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:43:01) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:43:04) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:43:14) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:43:14) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 16:43:16) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67a6dac@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 38ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:43:16) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 48ms (View: 7, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 16:43:26) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 1 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;36;1muser_roles Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `user_roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`user_roles`.user_id = 1 ) [0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb66eb700@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:43:26) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 30ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:50:48) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 118ms (View: 57, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:51:00) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 54ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:51:33) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 36ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:51:39) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:51:49) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:51:49) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:52:00) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:52:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:52:07) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m

NoMethodError (undefined method `index' for UsersController:Class):
  app/controllers/admin_controller.rb:10:in `login'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.2ms)
Rendered rescues/_request_and_response (15.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:56:38) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mSQL (9.8ms)[0m   [0mSHOW TABLES[0m

NoMethodError (undefined method `index' for #<Class:0xb67e06d8>):
  app/controllers/admin_controller.rb:10:in `login'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (75.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:56:55) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:57:06) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 26ms (View: 13, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:57:08) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 26ms (View: 13, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:57:13) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m

NoMethodError (undefined method `index' for #<Class:0xb67cc890>):
  app/controllers/admin_controller.rb:10:in `login'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (110.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:57:54) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 16:57:58) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 17ms (DB: 1) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:57:58) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:58:02) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 16:58:10) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m

NoMethodError (undefined method `index' for #<Class:0xb68eca54>):
  app/controllers/admin_controller.rb:10:in `login'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:59:30) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 65ms (View: 17, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:59:42) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 40ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 16:59:52) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 109ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:00:03) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:00:38) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 75ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:00:48) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 54ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 17:00:53) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 19ms (DB: 1) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:00:53) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 26ms (View: 16, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:00:57) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m

NoMethodError (undefined method `index' for #<Class:0xb6812b60>):
  app/controllers/admin_controller.rb:10:in `login'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.8ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:09:31) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 75ms (View: 23, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 17:09:36) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 31ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:09:36) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 90ms (View: 77, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (1.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:09:52) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 28ms (DB: 4) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:09:52) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:09:59) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/page
Completed in 33ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#page (for 127.0.0.1 at 2009-10-21 17:09:59) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m

NoMethodError (undefined method `index' for #<Class:0xb680f140>):
  app/controllers/admin_controller.rb:29:in `page'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.4ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:15:52) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 73ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:16:00) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 40ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:16:15) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 41ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 17:16:17) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:16:17) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 35ms (View: 21, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:16:19) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:16:23) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:16:23) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 50ms (View: 7, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:16:25) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67fecdc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 77ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:16:25) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 98ms (DB: 4) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:16:25) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (1.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:16:33) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 28ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:16:33) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 27ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:16:42) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:16:42) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 34ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 17:16:43) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6895c2c@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:16:43) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 17ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:16:44) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 8, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:17:18) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 34ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:17:18) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 98ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:17:20) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 117ms (View: 77, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 17:17:22) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (81.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 293ms (View: 119, DB: 84) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:17:24) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 162ms (View: 124, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-21 17:17:29) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 67ms (View: 30, DB: 2) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-21 17:17:38) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"buddy", "password_confirmation"=>"buddy", "password"=>"buddy"}}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (42.6ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'buddy') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('buddy', '-6166770580.808020001704318', '2009-10-21 09:17:38', '2009-10-21 09:17:38', 'bffd3ee88b3b883291c471f1f8cbd07a90b26427')[0m
  [4;35;1mSQL (7.2ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3001/users
Completed in 88ms (DB: 52) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:17:38) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (64.4ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (9.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 184ms (View: 73, DB: 78) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 17:17:48) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 30ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:17:48) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:22:51) [POST]
  Parameters: {"name"=>"gaga", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"gaga"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 34ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:22:51) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 60ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 17:22:55) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 4 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67d45a4@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 30ms (DB: 3) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:22:55) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:22:55) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:23:02) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:23:02) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:23:10) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 34ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:23:10) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 92ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:23:12) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb68b8f60@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 24ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:23:12) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 15ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:23:12) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:23:41) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:23:45) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:23:45) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 53ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:23:47) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6839ae4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 28ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:23:47) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 15ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:23:47) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (13.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:24:22) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 42ms (DB: 16) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:24:22) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 23, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:24:28) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:24:28) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 39ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:24:30) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 92ms (View: 52, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:25:16) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 43ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:25:16) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:25:20) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:25:21) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 38ms (View: 13, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:25:22) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb66d9668@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 50ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:25:22) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:25:22) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:26:16) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 43ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:26:16) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:26:20) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 33ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:26:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 38ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:26:22) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb66dea64@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 52ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:26:22) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:26:22) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:26:34) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 102ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:26:34) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 31ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:26:36) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 121ms (View: 82, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 17:26:38) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 115ms (View: 63, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 17:26:55) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 18ms (DB: 1) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:26:55) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:28:33) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 43ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:28:33) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 31ms (View: 23, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:28:42) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 34ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:28:42) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 38ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 17:28:44) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6774000@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:28:44) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 15ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:28:44) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:28:53) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 76ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:28:53) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:29:03) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:29:03) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 37ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 17:29:05) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 108ms (View: 53, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:29:06) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 77ms (View: 53, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:30:34) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 73ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:30:44) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 48ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:31:40) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 83ms (View: 24, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:31:50) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 50ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:31:55) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 32ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:32:02) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 56ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Rails::InfoController#properties (for 127.0.0.1 at 2009-10-21 17:32:09) [GET]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Completed in 156ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/rails/info/properties]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:32:13) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 34ms (View: 22, DB: 0) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:32:19) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:32:19) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:32:27) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:32:27) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 39ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 17:32:29) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb67157d0@/home/longjiahui/projects/Depot/app/controllers/products_controller.rb:2>] rendered_or_redirected.
Completed in 50ms (DB: 4) | 302 Found [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:32:29) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 15ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:32:29) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:35:25) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 42ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:35:25) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:35:33) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:35:33) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 41ms (View: 14, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:35:36) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

NoMethodError (undefined method `role' for #<UsersController:0xb73eee98>):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.5ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:37:51) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 76ms (View: 25, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:37:56) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 36ms (View: 22, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:38:02) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 101ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:38:02) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:38:07) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 36ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:38:07) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 56ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:38:09) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m

NoMethodError (undefined method `role' for #<UsersController:0xb6630bbc>):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (114.5ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:40:13) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 54ms (View: 37, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:40:19) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:40:19) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:40:27) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:40:27) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 39ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:40:29) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb679c12c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 51ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:40:29) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:40:30) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 89ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:40:45) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:40:45) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 31ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:40:46) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 90ms (View: 53, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 17:40:48) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 150ms (View: 54, DB: 2) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:49:17) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 57ms (View: 39, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:49:22) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:49:33) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:49:33) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 20ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:51:57) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 34ms (View: 21, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:52:04) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 28ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:52:04) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:52:08) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 95ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:52:08) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 40ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:52:13) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb66f4814@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 51ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:52:13) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:52:13) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:52:19) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:52:19) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 32ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:52:22) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 111ms (View: 72, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:53:00) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 89ms (View: 51, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:53:15) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 49, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 17:53:21) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 30ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:53:21) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 83ms (View: 70, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'god') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:58:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 42ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:58:20) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:58:25) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:58:25) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 39ms (View: 13, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:58:26) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6833090@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 53ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:58:27) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:58:27) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:58:52) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 23ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:58:57) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:58:57) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:59:03) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 29ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:59:03) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:59:06) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 34ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:59:07) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 92ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:59:08) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb686b3f0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:59:08) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:59:08) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 17ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:59:31) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 34ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 17:59:31) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 110ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:59:33) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 101ms (View: 63, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 17:59:39) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"10"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Redirected to http://127.0.0.1:3001/users
Completed in 39ms (DB: 2) | 302 Found [http://127.0.0.1/users/10]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 17:59:39) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 77ms (View: 43, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 17:59:51) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 106ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 17:59:51) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 18:00:02) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 23ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 18:00:02) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 18:07:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 43ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 18:07:14) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 18:07:19) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 35ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 18:07:19) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 38ms (View: 13, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 18:07:22) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb66e3618@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 51ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 18:07:22) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 18:07:22) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 18:07:30) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 103ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-21 18:07:30) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 32ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 18:07:32) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 115ms (View: 76, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-21 18:07:42) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 88ms (View: 49, DB: 2) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 18:07:44) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 68ms (View: 43, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-21 18:07:49) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"10"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Redirected to http://127.0.0.1:3001/users
Completed in 41ms (DB: 2) | 302 Found [http://127.0.0.1/users/10]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-21 18:07:49) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 103ms (View: 60, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-21 18:08:14) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-21 18:08:14) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (50.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 09:33:46) [GET]
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 230ms (DB: 182) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:33:46) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 150ms (View: 136, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:33:52) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 88ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 09:33:53) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (15.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 95ms (View: 27, DB: 18) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 09:33:56) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (11.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (37.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (37.8ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb66c82dc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 183ms (DB: 89) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 09:33:56) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 28ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:33:56) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:34:42) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 25ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 09:34:43) [GET]
  [4;35;1mUser Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 43ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-22 09:34:44) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mProduct Load (15.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 192ms (View: 105, DB: 21) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 09:34:46) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 166ms (View: 129, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:42:44) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 31ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:42:51) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 09:42:51) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 31ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 09:42:54) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb659d95c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 09:42:55) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:42:55) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-22 09:43:00) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 15ms (DB: 1) | 302 Found [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:43:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 09:43:11) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 33ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 09:43:11) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 106ms (View: 67, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-22 09:43:13) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 100ms (View: 49, DB: 4) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 09:43:15) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 66ms (View: 41, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (61.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (14.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 12:03:38) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 193ms (View: 39, DB: 153) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-22 12:03:42) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 32ms (DB: 3) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 12:03:43) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 21ms (View: 13, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 13:22:53) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"hehe"}
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 30ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 13:22:54) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 33ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 13:22:57) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Filter chain halted as [#<Proc:0xb6688074@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 38ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 13:22:57) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 80ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 13:22:57) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 13:23:07) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 36ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 13:23:07) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 38ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-22 13:23:10) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;35;1mProduct Columns (25.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 168ms (View: 90, DB: 28) | 200 OK [http://127.0.0.1/products]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 13:23:12) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 103ms (View: 63, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-22 13:27:17) [DELETE]
  Parameters: {"authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "id"=>"10"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Redirected to http://127.0.0.1:3001/users
Completed in 38ms (DB: 3) | 302 Found [http://127.0.0.1/users/10]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 13:27:17) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 67ms (View: 44, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:12:43) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 58, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-22 14:12:47) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 54ms (View: 18, DB: 3) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-22 14:12:59) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"tt", "password_confirmation"=>"", "password"=>"tt"}}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'tt') LIMIT 1[0m
  [4;36;1mSQL (15.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/new
Completed in 69ms (View: 17, DB: 18) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-22 14:13:03) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"/6zPX0ma6O7nSZfN904elH7T5JTxf2ElIi8aE4DuVEM=", "user"=>{"name"=>"tt", "password_confirmation"=>"tt", "password"=>"tt"}}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'tt') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('tt', '-6169217780.445093233028929', '2009-10-22 06:13:03', '2009-10-22 06:13:03', 'cc57bd57afdc3a4228bcffaba7543642d251f9ad')[0m
  [4;35;1mSQL (10.9ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3001/users
Completed in 42ms (DB: 14) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:13:03) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 74ms (View: 50, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 14:18:00) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://localhost:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 32ms (DB: 3) | 302 Found [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 14:18:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://localhost/admin/login]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 14:18:06) [POST]
  Parameters: {"name"=>"god", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"god"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'god') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 24ms (View: 7, DB: 2) | 200 OK [http://localhost/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 14:18:12) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://localhost:3001/admin
Completed in 18ms (DB: 2) | 302 Found [http://localhost/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 14:18:12) [GET]
  [4;35;1mUser Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 33ms (View: 6, DB: 3) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:18:14) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m

ActionView::TemplateError (undefined local variable or method `role' for #<ActionView::Base:0xb663ad4c>) on line #31 of app/views/users/index.html.erb:
28:     <td><%= link_to 'Show', user %></td>
29:     <td><%= link_to 'Edit', edit_user_path(user) %></td>
30:     <td><%= link_to 'Destroy', user, :confirm => 'Are you sure?', :method => :delete %></td>
31:     <td><%= link_to 'grant', role, :confirm => 'Are you sure?', :method => :grant_role %></td>
32:   </tr>
33: <% end %>
34: </table>

    app/views/users/index.html.erb:31
    app/views/users/index.html.erb:22:in `each'
    app/views/users/index.html.erb:22
    app/controllers/users_controller.rb:11:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (27.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:24:04) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 114ms (View: 81, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 14:24:07) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 14:26:08) [GET]

ActionController::RoutingError (No route matches "/orders" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (1.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 14:26:12) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:27:52) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 89ms (View: 57, DB: 3) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:27:54) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 72ms (View: 51, DB: 3) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-22 14:27:56) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 88ms (View: 47, DB: 4) | 200 OK [http://localhost/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:27:58) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 113ms (View: 81, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:55:03) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 172ms (View: 77, DB: 4) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 14:55:05) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 14:55:18) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 105ms (View: 73, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:05:50) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 140ms (View: 112, DB: 3) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:05:52) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:08:59) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 102ms (View: 70, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:09:01) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:10:33) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 175ms (View: 57, DB: 3) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:11:16) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 86ms (View: 55, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:14:07) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 179ms (View: 57, DB: 4) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:14:09) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 94ms (View: 62, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:14:22) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 164ms (View: 57, DB: 3) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:14:41) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 97ms (View: 65, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:14:42) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 172ms (View: 52, DB: 3) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:15:01) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 98ms (View: 66, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:17:33) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 152ms (View: 52, DB: 3) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-22 15:17:35) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://localhost:3001/admin/login
Completed in 25ms (DB: 2) | 302 Found [http://localhost/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 15:17:35) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://localhost/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 15:17:41) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://localhost:3001/admin
Completed in 48ms (DB: 2) | 302 Found [http://localhost/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 15:17:41) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 98ms (View: 7, DB: 3) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:17:44) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:19:25) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 15:19:28) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 43ms (View: 7, DB: 4) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:19:29) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:19:41) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 1 ) LIMIT 1[0m
Redirected to http://localhost:3001/admin
Filter chain halted as [#<Proc:0xb660861c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 15:19:41) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://localhost:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 12ms (DB: 2) | 302 Found [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 15:19:41) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 15:19:55) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://localhost:3001/admin
Completed in 20ms (DB: 2) | 302 Found [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 15:19:55) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 31ms (View: 7, DB: 3) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:19:57) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:20:00) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 71ms (View: 50, DB: 3) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:20:39) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 88ms (View: 53, DB: 6) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:20:41) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:21:24) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 71ms (View: 51, DB: 3) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:21:26) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:26:53) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 88ms (View: 56, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:26:55) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 15:29:54) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 106ms (View: 14, DB: 5) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:29:56) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:30:09) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 104ms (View: 69, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 15:34:11) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 15:48:20) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 148ms (View: 29, DB: 2) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-22 15:48:22) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://localhost:3001/admin/login
Completed in 25ms (DB: 2) | 302 Found [http://localhost/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 15:48:23) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 12ms (View: 7, DB: 1) | 200 OK [http://localhost/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 15:48:26) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://localhost:3001/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 21ms (DB: 2) | 302 Found [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 15:48:26) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 20ms (View: 13, DB: 1) | 200 OK [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 15:48:33) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://localhost:3001/admin
Completed in 18ms (DB: 2) | 302 Found [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 15:48:33) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 30ms (View: 8, DB: 3) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 15:48:36) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 98ms (View: 66, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant (for 127.0.0.1 at 2009-10-22 15:48:39) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m

ActionController::UnknownAction (No action responded to grant. Actions: create, destroy, edit, index, new, show, and update):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant (for 127.0.0.1 at 2009-10-22 15:49:29) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m

ActionController::UnknownAction (No action responded to grant. Actions: create, destroy, edit, index, new, show, and update):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant (for 127.0.0.1 at 2009-10-22 16:03:24) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (17.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant
Completed in 62ms (View: 21, DB: 18) | 200 OK [http://localhost/users/grant]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant (for 127.0.0.1 at 2009-10-22 16:04:15) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant
Completed in 57ms (View: 24, DB: 2) | 200 OK [http://localhost/users/grant]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant (for 127.0.0.1 at 2009-10-22 16:05:06) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant
Completed in 35ms (View: 16, DB: 2) | 200 OK [http://localhost/users/grant]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant (for 127.0.0.1 at 2009-10-22 16:05:18) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant
Completed in 56ms (View: 26, DB: 2) | 200 OK [http://localhost/users/grant]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant (for 127.0.0.1 at 2009-10-22 16:05:42) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `user_roles` ON `roles`.id = `user_roles`.role_id WHERE (`roles`.`id` = 1) AND (`user_roles`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant
Completed in 48ms (View: 17, DB: 3) | 200 OK [http://localhost/users/grant]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:22:04) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mMysql::Error: Table 'Depot_development.roles_users' doesn't exist: SELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'Depot_development.roles_users' doesn't exist: SELECT `roles`.id FROM `roles`  INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 )  LIMIT 1):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (96.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:25:44) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mMysql::Error: Table 'Depot_development.roles_users' doesn't exist: SELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'Depot_development.roles_users' doesn't exist: SELECT `roles`.id FROM `roles`  INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 )  LIMIT 1):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (126.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 16:27:13) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 42ms (View: 7, DB: 3) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:27:15) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mMysql::Error: Table 'Depot_development.roles_users' doesn't exist: SELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::StatementInvalid (Mysql::Error: Table 'Depot_development.roles_users' doesn't exist: SELECT `roles`.id FROM `roles`  INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 )  LIMIT 1):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:31:17) [GET]
  [4;35;1mUser Columns (12.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 101ms (View: 65, DB: 15) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:31:24) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

NameError (undefined local variable or method `param' for #<UsersController:0xb66387f4>):
  app/controllers/users_controller.rb:101:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (48.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.6ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:33:34) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 20ms (View: 1, DB: 2) | 200 OK [http://localhost/users/grant_role]
  [4;36;1mSQL (1.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-22 16:33:40) [GET]
  Parameters: {"id"=>"grant_role"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=grant_role):
  app/controllers/users_controller.rb:20:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:36:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 110ms (View: 5, DB: 3) | 200 OK [http://localhost/users/grant_role?id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:37:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 4) | 200 OK [http://localhost/users/grant_role?id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 16:40:41) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 111ms (View: 47, DB: 3) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:40:43) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 176ms (View: 129, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:40:45) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (85.9ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (150.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:46:21) [GET]
  [4;35;1mUser Columns (94.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (12.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 697ms (View: 160, DB: 316) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:46:27) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 49ms (View: 1, DB: 3) | 200 OK [http://localhost/users/grant_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:47:11) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:51:17) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 386ms (View: 289, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:51:23) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"206898"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.8ms)
Rendered rescues/_request_and_response (5.9ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:53:22) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 248ms (View: 188, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:53:24) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"206898"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 43ms (View: 1, DB: 4) | 200 OK [http://localhost/users/grant_role?id=206898]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:53:39) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 31ms (View: 1, DB: 2) | 200 OK [http://localhost/users/grant_role?id=3]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:54:45) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 135ms (View: 89, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:54:46) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"206898"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:57:19) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 103ms (View: 59, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:57:21) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"206898"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:57:24) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 98ms (View: 58, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:58:10) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 209ms (View: 68, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:58:11) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:58:34) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 94ms (View: 61, DB: 3) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:58:36) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 16:59:36) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 107ms (View: 51, DB: 4) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 16:59:37) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 196ms (View: 145, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:59:39) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 16:59:47) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:00:41) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 110ms (View: 63, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:00:44) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.5ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:03:19) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 185ms (View: 129, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:03:23) [GET]
  [4;36;1mUser Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 102ms (View: 56, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:03:24) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

NameError (undefined local variable or method `user' for #<UsersController:0xb66c5d84>):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (110.5ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:04:48) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 86ms (View: 56, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:04:51) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 90ms (View: 56, DB: 3) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:04:53) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 112ms (View: 1, DB: 2) | 200 OK [http://localhost/users/grant_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-22 17:04:59) [GET]
  Parameters: {"id"=>"grant_role=3"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=grant_role=3):
  app/controllers/users_controller.rb:20:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-22 17:05:08) [GET]
  Parameters: {"id"=>"grant_role"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=grant_role):
  app/controllers/users_controller.rb:20:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:05:36) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 133ms (View: 82, DB: 5) | 200 OK [http://localhost/users/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:06:26) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 105ms (View: 58, DB: 5) | 200 OK [http://localhost/users/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:06:27) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 163ms (View: 59, DB: 3) | 200 OK [http://localhost/users/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:06:28) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 3) | 200 OK [http://localhost/users/grant_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:06:49) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 86ms (View: 58, DB: 4) | 200 OK [http://localhost/users/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:06:51) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 85ms (View: 56, DB: 4) | 200 OK [http://localhost/users/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:06:52) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 113ms (View: 65, DB: 6) | 200 OK [http://localhost/users/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-22 17:06:53) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://localhost:3001/admin/login
Completed in 17ms (DB: 1) | 302 Found [http://localhost/admin/logout]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 17:06:53) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 85ms (View: 61, DB: 17) | 200 OK [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 17:07:01) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://localhost:3001/admin
Completed in 37ms (DB: 2) | 302 Found [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 17:07:01) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 33ms (View: 11, DB: 3) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:07:03) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 186ms (View: 141, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:07:06) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:08:36) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 115ms (View: 78, DB: 4) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:08:37) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"-617186468"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:09:20) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 129ms (View: 75, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:09:21) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 107ms (View: 58, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:09:22) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 114ms (View: 70, DB: 4) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:09:23) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"206898"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:15:18) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 120ms (View: 73, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:15:19) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"206898"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (32.8ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:23:16) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 648ms (View: 372, DB: 116) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-22 17:23:19) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://localhost:3001/admin/login
Completed in 30ms (DB: 2) | 302 Found [http://localhost/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 17:23:20) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 88ms (View: 66, DB: 15) | 200 OK [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 17:23:29) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://localhost:3001/admin
Completed in 45ms (DB: 2) | 302 Found [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 17:23:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 165ms (View: 143, DB: 3) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:23:33) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 120ms (View: 69, DB: 6) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:23:35) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"206898"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (75.8ms)
Rendered rescues/_request_and_response (15.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:23:52) [GET]
  Parameters: {"id"=>"44"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:23:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 17:24:26) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 65ms (View: 11, DB: 5) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:24:28) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 99ms (View: 60, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:24:29) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"206898"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (50.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:25:22) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 194ms (View: 148, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:25:25) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (50.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:26:19) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"4"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (119.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:26:22) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"4"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:26:25) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"1"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (119.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:26:31) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:26:34) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"10"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (116.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:26:37) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"12"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:28:07) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 115ms (View: 69, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:28:09) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.0ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:29:58) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 110ms (View: 61, DB: 6) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:30:00) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 85ms (View: 57, DB: 3) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:30:02) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 87ms (View: 56, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:30:04) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 184ms (View: 1, DB: 4) | 200 OK [http://localhost/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:31:01) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 114ms (View: 64, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:31:02) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 112ms (View: 64, DB: 6) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:31:03) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:31:53) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 116ms (View: 69, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:31:54) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.role):
  app/controllers/users_controller.rb:104:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:32:16) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 94ms (View: 56, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:32:18) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:34:57) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 128ms (View: 80, DB: 6) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:34:58) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:35:15) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 111ms (View: 62, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:35:16) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"4"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:35:48) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 131ms (View: 85, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:35:49) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:37:44) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 82ms (View: 56, DB: 3) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:37:45) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:38:56) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 107ms (View: 60, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:38:58) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:39:27) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 96ms (View: 62, DB: 4) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:39:28) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:39:32) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:39:34) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:41:08) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 452ms (View: 351, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:41:09) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 143ms (View: 74, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:41:11) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 165ms (View: 123, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:41:12) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (66.5ms)
Rendered rescues/_request_and_response (4.2ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:41:31) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 187ms (View: 138, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:41:33) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:43:08) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 214ms (View: 153, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:43:10) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 85ms (View: 54, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:43:11) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:44:41) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 95ms (View: 65, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:44:42) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 88ms (View: 58, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:44:43) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:45:22) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 141ms (View: 91, DB: 8) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:45:24) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 148ms (View: 58, DB: 3) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 17:45:26) [GET]

ActionController::RoutingError (No route matches "/orders" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-22 17:45:29) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (70.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 271ms (View: 124, DB: 75) | 200 OK [http://localhost/products]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:45:31) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 110ms (View: 64, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:45:33) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"8"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:46:16) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 109ms (View: 61, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:46:17) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"8"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 44ms (View: 1, DB: 3) | 200 OK [http://localhost/users/grant_role?id=8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:47:14) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 92ms (View: 60, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:47:16) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"1"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 41ms (View: 1, DB: 4) | 200 OK [http://localhost/users/grant_role?id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:48:27) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 188ms (View: 132, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-22 17:48:29) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://localhost:3001/admin/login
Completed in 28ms (DB: 2) | 302 Found [http://localhost/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 17:48:30) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 111ms (View: 39, DB: 69) | 200 OK [http://localhost/admin/login]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 17:48:36) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://localhost:3001/admin
Completed in 39ms (DB: 2) | 302 Found [http://localhost/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 17:48:36) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (3.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 128ms (View: 86, DB: 7) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:48:39) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 55, DB: 4) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:48:41) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:49:39) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 127ms (View: 79, DB: 6) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:49:41) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

NameError (undefined local variable or method `user' for #<UsersController:0xb68d0b38>):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.8ms)
Rendered rescues/_request_and_response (4.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-22 17:53:03) [GET]

ActionController::RoutingError (No route matches "/u" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 17:53:10) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 86ms (View: 62, DB: 2) | 200 OK [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-22 17:53:15) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://localhost:3001/admin
Completed in 36ms (DB: 2) | 302 Found [http://localhost/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 17:53:15) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 38ms (View: 13, DB: 2) | 200 OK [http://localhost/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:53:22) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 146ms (View: 95, DB: 5) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:53:25) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

NameError (undefined local variable or method `user' for #<UsersController:0xb666108c>):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (113.4ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:53:46) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 56, DB: 3) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:53:47) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:102:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (115.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.6ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-22 17:58:32) [GET]
  [4;35;1mProduct Load (107.3ms)[0m   [0mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (31.4ms)
Completed in 288ms (View: 137, DB: 110) | 200 OK [http://localhost/store]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-22 17:58:34) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"5"}
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (5.8ms)
Rendered store/_cart (13.7ms)
Completed in 51ms (View: 21, DB: 3) | 200 OK [http://localhost/store/add_to_cart/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-22 17:58:36) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"2"}
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (8.8ms)
Rendered store/_cart_item (1.2ms)
Rendered store/_cart (16.8ms)
Completed in 55ms (View: 21, DB: 3) | 200 OK [http://localhost/store/add_to_cart/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#checkout (for 127.0.0.1 at 2009-10-22 17:58:38) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI="}
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
Rendering template within layouts/store
Rendering store/checkout
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
Rendered store/_cart_item (6.8ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (11.2ms)
Completed in 54ms (View: 29, DB: 3) | 200 OK [http://localhost/store/checkout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-22 17:58:54) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 72ms (View: 13, DB: 4) | 200 OK [http://localhost/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:58:56) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 125ms (View: 56, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 17:58:58) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 17:59:34) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 212ms (View: 136, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:00:27) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 125ms (View: 57, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:00:29) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"8"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:00:57) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 203ms (View: 131, DB: 5) | 200 OK [http://localhost/users/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:00:59) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 136ms (View: 65, DB: 6) | 200 OK [http://localhost/users/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:01:00) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:01:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 213ms (View: 139, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:01:56) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 126ms (View: 58, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:01:57) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 134ms (View: 15, DB: 3) | 200 OK [http://localhost/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-22 18:02:36) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:02:57) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 129ms (View: 60, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:02:59) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"1"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 48ms (View: 10, DB: 2) | 200 OK [http://localhost/users/grant_role?id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:06:37) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 210ms (View: 136, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:06:39) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

NoMethodError (undefined method `Role' for #<User:0xb6743194>):
  app/controllers/users_controller.rb:103:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.6ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:07:04) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/users_controller.rb:103:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:07:13) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

NoMethodError (undefined method `role' for #<User:0xb66eb250>):
  app/controllers/users_controller.rb:104:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:07:34) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 60ms (View: 17, DB: 3) | 200 OK [http://localhost/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:10:20) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 50ms (View: 9, DB: 3) | 200 OK [http://localhost/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-22 18:10:25) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "role"=>{"name"=>"ss", "description"=>"sss"}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (63.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'ss') LIMIT 1[0m
  [4;35;1mRole Create (30.5ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('ss', '2009-10-22 10:10:25', '2009-10-22 10:10:25', 'sss')[0m
  [4;36;1mSQL (9.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m

NoMethodError (undefined method `index_url' for #<UsersController:0xb6808a0c>):
  app/controllers/users_controller.rb:115:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (66.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:12:05) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (18.6ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 339ms (View: 110, DB: 24) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:12:07) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 117ms (View: 56, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:12:09) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 179ms (View: 117, DB: 5) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:12:10) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 94ms (View: 55, DB: 4) | 200 OK [http://localhost/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:12:12) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 146ms (View: 9, DB: 3) | 200 OK [http://localhost/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-22 18:12:18) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "role"=>{"name"=>"hehe", "description"=>"hehe"}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'hehe') LIMIT 1[0m
  [4;35;1mRole Create (0.2ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('hehe', '2009-10-22 10:12:18', '2009-10-22 10:12:18', 'hehe')[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCOMMIT[0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:12:45) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 62ms (View: 8, DB: 3) | 200 OK [http://localhost/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-22 18:12:47) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "role"=>{"name"=>"hehe", "description"=>"hehe"}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'hehe') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-22 18:13:46) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 93ms (View: 54, DB: 4) | 200 OK [http://localhost/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:13:51) [POST]
  Parameters: {"authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 48ms (View: 9, DB: 3) | 200 OK [http://localhost/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-22 18:13:56) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "role"=>{"name"=>"eee", "description"=>"eee"}}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'eee') LIMIT 1[0m
  [4;36;1mRole Create (0.2ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('eee', '2009-10-22 10:13:56', '2009-10-22 10:13:56', 'eee')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/users/grant_role?id=11
Completed in 88ms (DB: 4) | 302 Found [http://localhost/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-22 18:13:56) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 56ms (View: 9, DB: 3) | 200 OK [http://localhost/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-22 18:14:00) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"mHmmBBJTBwjXeMmSmuXEQTVXtxg9dOQVsOEc7j9nKQI=", "role"=>{"name"=>"", "description"=>""}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY '') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (1.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'ss') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 2) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 4 ) LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 3) AND (`roles_users`.user_id = 4 ) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'sss') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'sss') LIMIT 1[0m
  [4;36;1mSQL (43.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:11:28) [GET]
  [4;36;1mUser Columns (16.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 327ms (DB: 196) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:11:28) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 112ms (View: 105, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:11:39) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:11:39) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (16.1ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 85ms (View: 28, DB: 18) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:11:41) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (13.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (1.0ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 208ms (View: 119, DB: 20) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-23 09:11:51) [DELETE]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"12"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPermission Load (24.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.authorizable_id = 12 AND `permissions`.authorizable_type = 'User') LIMIT 1[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (19.5ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 12 ) [0m
  [4;35;1mUser Destroy (0.2ms)[0m   [0mDELETE FROM `users` WHERE `id` = 12[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mSQL (4.2ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 156ms (DB: 54) | 302 Found [http://127.0.0.1/users/12]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:11:52) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 77ms (View: 49, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 09:14:08) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 95ms (View: 47, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 09:14:19) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"hello", "description"=>"hello\r\n"}}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (20.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'hello') LIMIT 1[0m
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('hello', '2009-10-23 01:14:19', '2009-10-23 01:14:19', 'hello\r\n')[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 75ms (DB: 29) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:14:20) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 154ms (View: 49, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:17:22) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/users/grant_role?id=11
Filter chain halted as [#<Proc:0xb67f1e24@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 58ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 09:17:23) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:17:23) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:17:28) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 81ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:17:28) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 29ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:17:30) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb682a33c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 38ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:17:30) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:17:30) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:18:03) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:18:03) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 31ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:18:05) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb684919c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 40ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:18:05) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:18:05) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (54.2ms)[0m   [0;1mdescribe `roles_users`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mSQL (34.4ms)[0m   [0;1mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (5, 10)[0m
  [4;35;1mSQL (51.9ms)[0m   [0mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:21:04) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 18ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:21:11) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 50ms (DB: 5) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:21:11) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 60ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:21:13) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 157ms (View: 91, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 09:21:17) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"1"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 53ms (View: 9, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 09:21:32) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"hello", "description"=>"can enter user page!\r\n"}}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'hello') LIMIT 1[0m
  [4;35;1mSQL (21.3ms)[0m   [0mROLLBACK[0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 09:26:05) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 29ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:26:05) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:26:11) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:26:11) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 28ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:26:13) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 194ms (View: 143, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 09:26:19) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"8"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 38ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 09:26:30) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"hehe", "description"=>"hehe\r\n\r\n\r\n\r\n\r\n\r\n\r\n"}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'hehe') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 45ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:26:37) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (9.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 166ms (View: 51, DB: 13) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:28:50) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 100ms (View: 55, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 09:29:34) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"8"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 34ms (View: 9, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 09:29:41) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"hello", "description"=>"hello"}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'hello') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 41ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 09:29:43) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 16ms (DB: 1) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:29:43) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:29:47) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"mm"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:29:47) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 28ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:29:49) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb6709610@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 117ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:29:49) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 12ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:29:49) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:35:23) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:35:35) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 30ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:35:36) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 30ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 09:35:37) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 109ms (View: 63, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 09:43:50) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 52ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:43:50) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 44ms (View: 40, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:43:53) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 103ms (View: 97, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 09:43:58) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 31ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:43:58) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 84ms (View: 32, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:44:00) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m

NameError (uninitialized constant RolesController::Roles):
  app/controllers/roles_controller.rb:4:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (109.9ms)
Rendered rescues/_request_and_response (48.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:44:40) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 49ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:44:43) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb67923fc>) on line #17 of app/views/roles/index.html.erb:
14: <% @roles.each do |role| %>
15:   <tr>
16:     <td align="center"><%=h role.name %></td>
17:     <td align="center"><%= link_to 'Show', role %></td>
18:     <td align="center"><%= link_to 'Edit', edit_role_path(role) %></td>
19: 
20:     <td align="center"><%= link_to 'Destroy', role, :confirm => 'Are you sure?', :method => :delete %></td>

    app/views/roles/index.html.erb:17
    app/views/roles/index.html.erb:14:in `each'
    app/views/roles/index.html.erb:14
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (134.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:46:07) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 43ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:46:09) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb6787f88>) on line #17 of app/views/roles/index.html.erb:
14: <% @roles.each do |role| %>
15:   <tr>
16:     <td align="center"><%=h role.name %></td>
17:     <td align="center"><%= link_to 'Show', role %></td>
18:     <td align="center"><%= link_to 'Edit', role %></td>
19: 
20:     <td align="center"><%= link_to 'Destroy', role, :confirm => 'Are you sure?', :method => :delete %></td>

    app/views/roles/index.html.erb:17
    app/views/roles/index.html.erb:14:in `each'
    app/views/roles/index.html.erb:14
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:46:56) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 48ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:46:58) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 69ms (View: 34, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:49:01) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 49ms (View: 24, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:53:08) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 62ms (View: 26, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:53:10) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 122ms (View: 87, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:53:12) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 67ms (View: 31, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:53:25) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 66ms (View: 30, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:56:01) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb66bdd14>) on line #15 of app/views/roles/index.html.erb:
12: <% @roles.each do |role| %>
13:   <tr>
14:     <td align="center"><%=h role.name %></td>
15:     <td align="center"><%=link_to 'Show' , role %> </td>
16:     <td align="center"><%=link_to 'Edit' , edit_role_path(role)  %> </td>
17:     <td align="center"><%=link_to 'Delete'  %> </td>
18:    <!-- <td><%= button_to "Grant role" , :action => :grant_role, :id => role.id %></td>-->

    app/views/roles/index.html.erb:15
    app/views/roles/index.html.erb:12:in `each'
    app/views/roles/index.html.erb:12
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:59:08) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 46ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:59:11) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb669a968>) on line #15 of app/views/roles/index.html.erb:
12: <% @roles.each do |role| %>
13:   <tr>
14:     <td align="center"><%=h role.name %></td>
15:     <td align="center"><%=link_to 'Show' , role %> </td>
16:     <td align="center"><%=link_to 'Edit' , edit_role_path(role)  %> </td>
17:     <td align="center"><%=link_to 'Delete'  %> </td>
18:    <!-- <td><%= button_to "Grant role" , :action => :grant_role, :id => role.id %></td>-->

    app/views/roles/index.html.erb:15
    app/views/roles/index.html.erb:12:in `each'
    app/views/roles/index.html.erb:12
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:59:36) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb6702f68>) on line #15 of app/views/roles/index.html.erb:
12: <% @roles.each do |role| %>
13:   <tr>
14:     <td align="center"><%=h role.name %></td>
15:     <td align="center"><%=link_to 'Show' , role %> </td>
16:     <td align="center"><%=link_to 'Edit' , edit_role_path(role)  %> </td>
17:     <td align="center"><%=link_to 'Delete'  %> </td>
18:    <!-- <td><%= button_to "Grant role" , :action => :grant_role, :id => role.id %></td>-->

    app/views/roles/index.html.erb:15
    app/views/roles/index.html.erb:12:in `each'
    app/views/roles/index.html.erb:12
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (139.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 09:59:38) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 48ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 09:59:39) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb6741754>) on line #15 of app/views/roles/index.html.erb:
12: <% @roles.each do |role| %>
13:   <tr>
14:     <td align="center"><%=h role.name %></td>
15:     <td align="center"><%=link_to 'Show' , role %> </td>
16:     <td align="center"><%=link_to 'Edit' , edit_role_path(role)  %> </td>
17:     <td align="center"><%=link_to 'Delete'  %> </td>
18:    <!-- <td><%= button_to "Grant role" , :action => :grant_role, :id => role.id %></td>-->

    app/views/roles/index.html.erb:15
    app/views/roles/index.html.erb:12:in `each'
    app/views/roles/index.html.erb:12
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (135.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 10:00:19) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 38ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:00:21) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb66f5340>) on line #15 of app/views/roles/index.html.erb:
12: <% @roles.each do |role| %>
13:   <tr>
14:     <td align="center"><%=h role.name %></td>
15:     <td align="center"><%=link_to 'Show' , role %> </td>
16:    
17:     <td align="center"><%=link_to 'Delete'  %> </td>
18:    <!-- <td><%= button_to "Grant role" , :action => :grant_role, :id => role.id %></td>-->

    app/views/roles/index.html.erb:15
    app/views/roles/index.html.erb:12:in `each'
    app/views/roles/index.html.erb:12
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 10:01:36) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 48ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:01:38) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb668a93c>) on line #15 of app/views/roles/index.html.erb:
12: <% @roles.each do |role| %>
13:   <tr>
14:     <td align="center"><%=h role.name %></td>
15:     <td align="center"><%=link_to 'Show' , role %> </td>
16:    
17:     <td align="center"><%=link_to 'Delete'  %> </td>
18:    <!-- <td><%= button_to "Grant role" , :action => :grant_role, :id => role.id %></td>-->

    app/views/roles/index.html.erb:15
    app/views/roles/index.html.erb:12:in `each'
    app/views/roles/index.html.erb:12
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (60.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 10:03:00) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 71ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:03:02) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 128ms (View: 92, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:04:06) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 67ms (View: 29, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:04:08) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 86ms (View: 59, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:04:34) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 70ms (View: 43, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:06:21) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY '') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 46ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:07:02) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 74ms (View: 48, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:07:02) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 134ms (View: 98, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:07:04) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 100ms (View: 54, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:15:31) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 82ms (View: 48, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 10:15:33) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 94ms (DB: 1) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 10:15:33) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 22ms (View: 17, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.9ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 10:15:42) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 18ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 10:15:42) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 28ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:15:45) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 99ms (View: 54, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:15:47) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 35ms (View: 9, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-23 10:16:21) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;35;1mProduct Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (8.3ms)
Completed in 184ms (View: 120, DB: 2) | 200 OK [http://127.0.0.1/store]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-23 10:16:33) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"2"}
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (83.8ms)
Rendered store/_cart (92.1ms)
Completed in 137ms (View: 119, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-23 10:16:57) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"2"}
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (4.9ms)
Rendered store/_cart (8.8ms)
Completed in 43ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-23 10:16:58) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"2"}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (8.5ms)
Rendered store/_cart (14.7ms)
Completed in 52ms (View: 19, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-23 10:17:00) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"5"}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (8.3ms)
Rendered store/_cart_item (1.1ms)
Rendered store/_cart (14.0ms)
Completed in 50ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#checkout (for 127.0.0.1 at 2009-10-23 10:17:07) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg="}
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
Rendering template within layouts/store
Rendering store/checkout
  [4;35;1mProduct Columns (110.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart_item (120.7ms)
Rendered store/_cart_item (1.1ms)
Rendered store/_cart (128.2ms)
Completed in 324ms (View: 116, DB: 112) | 200 OK [http://127.0.0.1/store/checkout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#save_order (for 127.0.0.1 at 2009-10-23 10:21:28) [POST]
  Parameters: {"commit"=>"Place Order", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "order"=>{"address"=>"hanchuan", "name"=>"customer", "pay_type"=>"po", "email"=>"hhh"}}
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mLineItem Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOrder Create (0.4ms)[0m   [0;1mINSERT INTO `orders` (`name`, `address`, `created_at`, `updated_at`, `pay_type`, `email`) VALUES('customer', 'hanchuan', '2009-10-23 02:21:28', '2009-10-23 02:21:28', 'po', 'hhh')[0m
  [4;35;1mLineItem Create (0.4ms)[0m   [0mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-23 02:21:28', 2, 3, 4, 30.0, '2009-10-23 02:21:28')[0m
  [4;36;1mLineItem Create (0.3ms)[0m   [0;1mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-23 02:21:28', 5, 1, 4, 0.03, '2009-10-23 02:21:28')[0m
  [4;35;1mSQL (4.8ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/store
Completed in 98ms (DB: 11) | 302 Found [http://127.0.0.1/store/save_order]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-23 10:21:28) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;35;1mProduct Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (5.7ms)
Completed in 84ms (View: 61, DB: 2) | 200 OK [http://127.0.0.1/store]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:28:31) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 118ms (View: 17, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:29:51) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 76ms (View: 26, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:30:04) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 120ms (View: 81, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:30:16) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 73ms (View: 20, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:30:50) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"admin", "description"=>"The role has the highest permission!\r\n"}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('admin', '2009-10-23 02:30:50', '2009-10-23 02:30:50', 'The role has the highest permission!\r\n')[0m
  [4;36;1mSQL (7.8ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 48ms (DB: 10) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:30:50) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 50, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:32:15) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 126ms (View: 73, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:32:19) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 102ms (View: 9, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:32:30) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"admin", "description"=>""}}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 63ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 10:33:23) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 77ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:33:27) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 124ms (View: 82, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:33:29) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 118ms (View: 62, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:33:31) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 53ms (View: 15, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:33:32) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 41ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:34:08) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 37ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:34:09) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 109ms (View: 54, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:34:15) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 77ms (View: 48, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.7ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-23 10:34:17) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 47ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/users/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-23 10:34:19) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "user"=>{"name"=>"", "password_confirmation"=>"", "password"=>""}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY '') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/new
Completed in 58ms (View: 17, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:36:07) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 58ms (View: 17, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:36:09) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 159ms (View: 51, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:36:11) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 64ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:36:16) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"link viewer", "description"=>""}}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 62ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:37:15) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 69ms (View: 26, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:37:17) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 50, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:37:18) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 67ms (View: 19, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:37:19) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 42ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 10:39:26) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 95ms (DB: 1) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 10:39:26) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 20ms (View: 13, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 10:39:27) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 26ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 10:39:33) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 10:39:33) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 104ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 10:39:35) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 64ms (View: 21, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:39:37) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 119ms (View: 65, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:39:39) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 71ms (View: 24, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:39:41) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 36ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:40:25) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 58ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 10:40:32) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 143ms (View: 112, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 10:40:33) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 53ms (View: 15, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 10:40:34) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 34ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
  [4;36;1mroles_users Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (21.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 10 ) [0m
  [4;36;1mRole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 11:12:22) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 45ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:12:22) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:12:25) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 87ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:12:32) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 38ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 11:12:32) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 67ms (View: 22, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 11:12:56) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 51ms (View: 20, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:12:58) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 90ms (View: 58, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:13:41) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 68ms (View: 17, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 11:13:43) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 40ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:13:50) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 80ms (View: 49, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:13:52) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 66ms (View: 17, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 11:14:19) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"keyword viewer", "description"=>"Can only look up keyword!"}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('keyword viewer', '2009-10-23 03:14:20', '2009-10-23 03:14:20', 'Can only look up keyword!')[0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 41ms (DB: 9) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:14:20) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 50, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:16:00) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 154ms (View: 94, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:16:02) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 169ms (View: 51, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 11:16:47) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:16:47) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 26ms (View: 13, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:16:52) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 11:16:52) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.8ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 40ms (View: 7, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 11:16:54) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 38ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:16:56) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 104ms (View: 54, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:17:01) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"10"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 10) [0m

ActiveRecord::RecordNotFound (Couldn't find Role with ID=10):
  app/controllers/users_controller.rb:101:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.4ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:17:29) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 121ms (View: 67, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:17:31) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"10"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/users_controller.rb:101:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:21:10) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 89ms (View: 49, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:21:13) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"10"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:101:in `grant_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:24:56) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 119ms (View: 68, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:24:58) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 123ms (View: 69, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 11:24:59) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 34ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:24:59) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 26ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:25:07) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 103ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 11:25:08) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 31ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:25:11) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 101ms (View: 50, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:25:12) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 51ms (View: 9, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 11:25:17) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"link viewer", "description"=>""}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 109ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:26:02) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 109ms (View: 58, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:26:03) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 64ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (60.9ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 11:31:56) [GET]
  [4;35;1mUser Columns (89.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 333ms (DB: 188) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:31:57) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 27ms (View: 19, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:32:11) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 42ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 11:32:11) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 56ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:32:13) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 124ms (View: 66, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:32:14) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 43ms (View: 9, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 11:32:41) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"admin", "description"=>"Has all the permissions!\r\n"}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.4ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('admin', '2009-10-23 03:32:41', '2009-10-23 03:32:41', 'Has all the permissions!\r\n')[0m
  [4;36;1mSQL (5.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 39ms (DB: 8) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:32:41) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 82ms (View: 50, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 11:42:02) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 125ms (DB: 5) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:42:03) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 115ms (View: 102, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:42:06) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 69ms (View: 61, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:42:14) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"mm"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 29ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 11:42:15) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 78ms (View: 35, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 11:42:17) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 50ms (View: 21, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:42:20) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb68bcb24@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 47ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 11:42:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 16ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:42:20) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 11:42:29) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 36ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 11:42:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 94ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:42:32) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 133ms (View: 84, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:42:58) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 73ms (View: 25, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:54:53) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 205ms (View: 154, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:54:54) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role

ActionView::TemplateError (Couldn't find User without an ID) on line #5 of app/views/users/grant_role.html.erb:
2: <div>
3:    <h1>
4:      <font color="red">
5:       <%= h User.find(params[:user_id]) %>
6:     </font>
7:    </h1>
8: </div>

    app/views/users/grant_role.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (77.7ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:55:21) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 80ms (View: 49, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:55:23) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role

ActionView::TemplateError (undefined local variable or method `user' for #<ActionView::Base:0xb676e074>) on line #5 of app/views/users/grant_role.html.erb:
2: <div>
3:    <h1>
4:      <font color="red">
5:       <%= h User.find(params[user.id]) %>
6:     </font>
7:    </h1>
8: </div>

    app/views/users/grant_role.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (121.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:56:35) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 123ms (View: 70, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:56:36) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role

ActionView::TemplateError (Couldn't find User without an ID) on line #5 of app/views/users/grant_role.html.erb:
2: <div>
3:    <h1>
4:      <font color="red">
5:       <%= h User.find(params[:name]) %>
6:     </font>
7:    </h1>
8: </div>

    app/views/users/grant_role.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:57:37) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 81ms (View: 50, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:57:38) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:5: syntax error, unexpected ')', expecting kEND
....concat(( h User.name) ).to_s); @output_buffer.concat "\n   ...
                              ^
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div>\n   <h1>\n     <font color=\"red\">\n      "



; @output_buffer.concat(( h User.name) ).to_s); @output_buffer.concat "\n    </font>\n   </h1>\n</div>\n\n<div class=\"depot-form\">\n "





; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n\n\n\n   <p>\n      "





; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "\n      "
; @output_buffer.concat((
         form.select :name,
                     Role::ROLE_TYPES,
                     :prompt => "Select a role"
      ).to_s); @output_buffer.concat "\n    </p>\n    <p>\n      "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n      "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n    </p>\n\n    "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n  "
;  end ; @output_buffer.concat "\n</fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:40:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:5: syntax error, unexpected ')', expecting kEND
....concat(( h User.name) ).to_s); @output_buffer.concat "\n   ...
                              ^) on line #5 of app/views/users/grant_role.html.erb:
2: <div>
3:    <h1>
4:      <font color="red">
5:       <%= h User.name) %>
6:     </font>
7:    </h1>
8: </div>

    app/views/users/grant_role.html.erb:40:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (50.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:58:23) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 116ms (View: 64, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:58:24) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '--- :id\n') [0m

ActionView::TemplateError (Couldn't find User with ID=id) on line #5 of app/views/users/grant_role.html.erb:
2: <div>
3:    <h1>
4:      <font color="red">
5:       <%= h User.find(:id) %>
6:     </font>
7:    </h1>
8: </div>

    app/views/users/grant_role.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 11:59:01) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 98ms (View: 48, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 11:59:02) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 45ms (View: 15, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 11:59:30) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 63ms (View: 25, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 12:00:13) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 43ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 12:00:15) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 82ms (View: 50, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 12:00:16) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 53ms (View: 9, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 12:00:18) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 12:01:13) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"link viewer", "description"=>"can look up link!"}}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.3ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('link viewer', '2009-10-23 04:01:13', '2009-10-23 04:01:13', 'can look up link!')[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 36ms (DB: 6) | 302 Found [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 12:01:13) [GET]
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 107ms (View: 50, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-23 12:09:39) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 97ms (View: 47, DB: 4) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-23 12:09:43) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 43ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-23 12:09:44) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "user"=>{"name"=>"", "password_confirmation"=>"", "password"=>""}}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY '') LIMIT 1[0m
  [4;36;1mSQL (35.4ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering users/new
Completed in 120ms (View: 38, DB: 38) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 12:09:48) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 77ms (View: 48, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:18:50) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 510ms (View: 225, DB: 9) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 13:18:59) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 72ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:19:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 88ms (View: 76, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:19:38) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 13:19:38) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 111ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:19:41) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 136ms (View: 78, DB: 9) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:21:11) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 77ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 13:21:29) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"keyword viewer", "description"=>"sfffd"}}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.4ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('keyword viewer', '2009-10-23 05:21:30', '2009-10-23 05:21:30', 'sfffd')[0m
  [4;35;1mSQL (6.0ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 124ms (DB: 10) | 302 Found [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:21:30) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 80ms (View: 48, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:22:39) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"1"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 66ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 13:25:55) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 82ms (View: 37, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:27:51) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 86ms (View: 50, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:27:51) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 70ms (View: 17, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 13:37:56) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 46ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:37:56) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 31ms (View: 23, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:38:02) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 83ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 13:38:02) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 40ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:38:05) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 130ms (View: 76, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:38:10) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"1"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 144ms (View: 89, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 13:38:23) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"admin", "description"=>"can do all!"}}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/users_controller.rb:105:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (57.5ms)
Rendered rescues/_request_and_response (14.7ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:51:05) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"1"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 66ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:51:09) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 114ms (View: 55, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:51:10) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 54ms (View: 9, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 13:51:15) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"keyword manager", "description"=>"sssss"}}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 38ms (View: 1, DB: 2) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:52:02) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 121ms (View: 15, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 13:52:04) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"keyword manager", "description"=>"sssss"}, "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 45ms (View: 1, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 13:56:07) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 18ms (DB: 3) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:56:07) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:56:19) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 13:56:19) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 45ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:56:21) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 6) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb6846ec4@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 67ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 13:56:22) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (19.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 36ms (DB: 21) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:56:22) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 74ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:56:33) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 13:56:33) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 34ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:56:35) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 6) AND (`roles_users`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb68184c0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 47ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 13:56:35) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:56:35) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:57:01) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 26ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (4.6ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 13:57:09) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 32ms (DB: 10) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 13:57:09) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:57:11) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 87ms (View: 51, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:57:12) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 52ms (View: 9, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:57:22) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 68ms (View: 18, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 13:57:34) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"data check", "description"=>"data check"}, "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 122ms (View: 2, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:58:05) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 107ms (View: 52, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:59:39) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 78ms (View: 48, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 13:59:41) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 116ms (View: 58, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 13:59:44) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 64ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 13:59:59) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"link viewer", "description"=>"ssssss"}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 107ms (View: 1, DB: 2) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 14:01:56) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"link viewer", "description"=>"ssssss"}, "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ArgumentError (Unknown key(s): name, description):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 14:18:11) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 74ms (View: 32, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (7.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRole Load (78.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (name ='hehe') [0m
  [4;35;1mRole Columns (11.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mMysql::Error: Unknown column 'role' in 'field list': select role from roles[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mselect * from roles[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mMysql::Error: Unknown column 'role' in 'field list': select role from roles[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mselect name from roles[0m
  [4;36;1mSQL (231.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 15:00:29) [GET]
  [4;36;1mUser Columns (222.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (50.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 996ms (View: 122, DB: 619) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 15:00:33) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 66ms (View: 24, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 15:04:32) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 233ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:04:34) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 190ms (View: 66, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:04:36) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #11 of app/views/users/grant_role.html.erb:
8:    <p>
9:       <%= label :role, :name, "RoleName:" %>
10:       <%=
11:          form.select :name,
12:                      @roles,
13:                      :prompt => "Select a role"
14:       %>

    app/views/users/grant_role.html.erb:11
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.6ms)
Rendered rescues/_request_and_response (2.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (83.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:20:20) [GET]
  [4;35;1mUser Columns (66.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 632ms (View: 121, DB: 193) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:20:22) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 127ms (View: 73, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:20:24) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.inject) on line #11 of app/views/users/grant_role.html.erb:
8:    <p>
9:       <%= label :role, :name, "RoleName:" %>
10:       <%=
11:          form.select :name,
12:                      @role,
13:                      :prompt => "Select a role"
14:       %>

    app/views/users/grant_role.html.erb:11
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:28:33) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (9.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 151ms (View: 89, DB: 15) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:28:34) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (207.7ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 276ms (View: 21, DB: 211) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:31:45) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 89ms (View: 50, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:31:46) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 42ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 15:34:27) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}, "id"=>"11"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

NoMethodError (undefined method `to_sym' for {"name"=>"", "description"=>""}:HashWithIndifferentAccess):
  app/controllers/users_controller.rb:109:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:35:18) [GET]
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 95ms (View: 48, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:36:47) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 157ms (View: 35, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:39:13) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 112ms (View: 60, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:39:14) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 50, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:39:15) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 52ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 15:48:05) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 230ms (View: 81, DB: 6) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:48:10) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 210ms (View: 75, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:48:12) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 69ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 15:48:38) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"hello", "description"=>"You can do the basic operations!"}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

NoMethodError (undefined method `to_sym' for #<HashWithIndifferentAccess:0xb67077c0>):
  app/controllers/users_controller.rb:106:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.8ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 15:50:33) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 32ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 15:50:34) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 32ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 15:50:34) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 47ms (View: 34, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 15:50:41) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 83ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 15:50:41) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 32ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:50:43) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 99ms (View: 49, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:50:46) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 42ms (View: 9, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 15:51:38) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"The Eee role,I don't know what it is...."}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'nameeeedescriptionthe eee role,i don\'t know what it is....') LIMIT 1[0m

RuntimeError (nameeeedescriptionThe Eee role,I don't know what it is.... does not exist.):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:52:55) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 40ms (View: 10, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:53:01) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (15.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 139ms (View: 10, DB: 18) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 15:53:02) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"The Eee role,I don't know what it is...."}, "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'nameeeedescriptionthe eee role,i don\'t know what it is....') LIMIT 1[0m

RuntimeError (nameeeedescriptionThe Eee role,I don't know what it is.... does not exist.):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:54:51) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 181ms (View: 131, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:54:52) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 109ms (View: 55, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:54:53) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 117ms (View: 10, DB: 5) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 15:54:55) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"", "description"=>""}, "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'namedescription') LIMIT 1[0m

RuntimeError (namedescription does not exist.):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 15:55:16) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"hehe", "description"=>"ssssssss"}, "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'namehehedescriptionssssssss') LIMIT 1[0m

RuntimeError (namehehedescriptionssssssss does not exist.):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 15:58:10) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 57ms (View: 39, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 15:58:14) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 43ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 15:58:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 40ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 15:58:16) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 88ms (View: 58, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 15:58:18) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 48ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 15:58:30) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"Eeeeeeeeeeee"}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

NoMethodError (undefined method `to_sym' for {"name"=>"eee", "description"=>"Eeeeeeeeeeee"}:HashWithIndifferentAccess):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.3ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:04:07) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 55ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:04:08) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"Eeeeeeeeeeee"}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ArgumentError (Unknown key(s): name, description):
  app/controllers/users_controller.rb:106:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:06:44) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 49ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:06:45) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"Eeeeeeeeeeee"}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ArgumentError (Unknown key(s): name, description):
  app/controllers/users_controller.rb:106:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:09:51) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 49, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:09:51) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 173ms (View: 53, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:09:53) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 56ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:09:59) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"11111"}, "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (120.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:11:36) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 121ms (View: 70, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:11:37) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 78ms (View: 48, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:11:39) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 38ms (View: 10, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:11:47) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"Eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:13:56) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 84ms (View: 51, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:13:57) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 54ms (View: 14, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:14:02) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"Eeeeeeee"}, "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (124.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:14:53) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 132ms (View: 78, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:14:54) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 164ms (View: 116, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:14:55) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 50ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:15:00) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (39.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:15:40) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 44ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:15:42) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ArgumentError (Unknown key(s): name, description):
  app/controllers/users_controller.rb:106:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:16:03) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 44ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:16:04) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 42ms (View: 1, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:16:41) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 39ms (View: 1, DB: 4) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:16:46) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 44ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:16:47) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 51ms (View: 1, DB: 4) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:18:34) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 116ms (View: 62, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:18:35) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 39ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:18:39) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/users_controller.rb:106:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (6.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:20:03) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 127ms (View: 12, DB: 9) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (6.9ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:20:04) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ArgumentError (Unknown key(s): name, description):
  app/controllers/users_controller.rb:106:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:20:36) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 129ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:20:38) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ArgumentError (Unknown key(s): name, description):
  app/controllers/users_controller.rb:106:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:21:49) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 102ms (View: 19, DB: 35) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:21:50) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ArgumentError (Unknown key(s): name, description):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:22:58) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 68ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:23:00) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Completed in 32ms (View: 1, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:25:06) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 51ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:25:08) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.to_sym):
  app/controllers/users_controller.rb:110:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:25:56) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 61ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:25:57) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/users_controller.rb:107:in `save_role'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 16:27:25) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 40ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 16:27:26) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "role"=>{"name"=>"eee", "description"=>"eeee"}, "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `roles_users`[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mSQL (54.1ms)[0m   [0;1mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (4, 11)[0m
  [4;35;1mSQL (11.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (39.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'buddy' AND `users`.id <> 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 159ms (DB: 110) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:27:26) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 81ms (View: 49, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 16:27:55) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 16:27:55) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 8, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 16:27:56) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 23ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 16:28:03) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"buddy"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 37ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 16:28:03) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 40ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:28:06) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 102ms (View: 50, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 16:28:09) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 118ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 16:28:09) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 16:28:15) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"xiaoxiao"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 37ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 16:28:15) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 54ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 16:28:17) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb6677fa8@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 75ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 16:28:17) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 16:28:17) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 16:32:55) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"buddy"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 16:32:55) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 50ms (View: 7, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 16:32:58) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 204ms (View: 160, DB: 5) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 16:37:51) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 67ms (View: 24, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 16:37:52) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 66ms (View: 24, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 16:37:55) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 65ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 16:38:10) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb67954d0>) on line #13 of app/views/roles/index.html.erb:
10: <% @roles.each do |role| %>
11:   <tr>
12:     <td align="center"><%=h role.name %></td>
13:     <td align="center"><%=link_to 'Show', role %> </td>
14:     <td align="center"><%=link_to 'Edit' %> </td>
15:     <td align="center"><%=link_to 'Delete'  %> </td>
16:   

    app/views/roles/index.html.erb:13
    app/views/roles/index.html.erb:10:in `each'
    app/views/roles/index.html.erb:10
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (59.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (10.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (17.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 16:43:11) [GET]
  [4;35;1mUser Columns (42.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 214ms (View: 35, DB: 91) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 16:43:15) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb676b6bc>) on line #13 of app/views/roles/index.html.erb:
10: <% @roles.each do |role| %>
11:   <tr>
12:     <td align="center"><%=h role.name %></td>
13:     <td align="center"><%=link_to "Show", role_path(role) %> </td>
14:     <td align="center"><%=link_to 'Edit' %> </td>
15:     <td align="center"><%=link_to 'Delete'  %> </td>
16:   

    app/views/roles/index.html.erb:13
    app/views/roles/index.html.erb:10:in `each'
    app/views/roles/index.html.erb:10
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (101.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (181.8ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (59.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 17:12:55) [GET]
  [4;35;1mUser Columns (96.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 2780ms (View: 50, DB: 829) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:13:06) [GET]
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb67543f4>) on line #13 of app/views/roles/index.html.erb:
10: <% @roles.each do |role| %>
11:   <tr>
12:     <td align="center"><%=h role.name %></td>
13:     <td align="center"><%=link_to "Show", role %> </td>
14:     <td align="center"><%=link_to 'Edit' %> </td>
15:     <td align="center"><%=link_to 'Delete'  %> </td>
16:   

    app/views/roles/index.html.erb:13
    app/views/roles/index.html.erb:10:in `each'
    app/views/roles/index.html.erb:10
    app/controllers/roles_controller.rb:5:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (88.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 17:19:42) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 132ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:19:44) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 72ms (View: 34, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:19:46) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 38ms (View: 14, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:19:47) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 138ms (View: 14, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 17:20:08) [GET]
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 106ms (View: 51, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 17:20:10) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 39ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 17:22:29) [POST]
  Parameters: {"authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 56ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 17:22:31) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 118ms (View: 62, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:22:33) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 48ms (View: 21, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-23 17:22:35) [GET]
  Parameters: {"id"=>"show"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (26.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=show):
  app/controllers/users_controller.rb:20:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (169.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:23:02) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 68ms (View: 25, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:23:03) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/roles_controller.rb:16:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (106.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 17:25:23) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 107ms (View: 55, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:25:25) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 67ms (View: 25, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:25:29) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/roles_controller.rb:16:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:28:04) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 66ms (View: 25, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:28:06) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 131ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-23 17:28:07) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 33ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 17:28:07) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 17:28:11) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"Zo1OBRz5Lbg2wU5YCd1GByPjdSx3Zs/rxcerZQUjXQg=", "password"=>"buddy"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 40ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 17:28:11) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 32ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:28:13) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 49ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:28:15) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/roles_controller.rb:41:in `get_role_message'
  app/controllers/roles_controller.rb:17:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:28:37) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/roles_controller.rb:41:in `get_role_message'
  app/controllers/roles_controller.rb:17:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (120.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:28:38) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/roles_controller.rb:41:in `get_role_message'
  app/controllers/roles_controller.rb:17:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:28:40) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 47ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:28:41) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m

ActiveRecord::RecordNotFound (Couldn't find Role without an ID):
  app/controllers/roles_controller.rb:41:in `get_role_message'
  app/controllers/roles_controller.rb:17:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (48.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:29:06) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 69ms (View: 26, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 17:29:28) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 85ms (View: 52, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:29:44) [GET]
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 70ms (View: 26, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:35:30) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 55ms (View: 20, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:35:33) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 72ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/roles/index/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:35:34) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 70ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/roles/index/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:35:36) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 42ms (View: 17, DB: 2) | 200 OK [http://127.0.0.1/roles/index/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:36:32) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 130ms (View: 89, DB: 3) | 200 OK [http://127.0.0.1/roles/index/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:36:33) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show

ActionView::TemplateError (undefined method `title' for #<Role:0xb6703814>) on line #3 of app/views/roles/show.html.erb:
1: <p>
2:   <b>Name:</b>
3:   <%=h @role.title %>
4: </p>
5: 
6: <p>

    app/views/roles/show.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:36:52) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 128ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:37:48) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 54ms (View: 22, DB: 3) | 200 OK [http://127.0.0.1/roles/index/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 17:37:50) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@roles) do |f| %>
4:   <%= f.error_messages_for "@roles" %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (72.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:40:17) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 70ms (View: 28, DB: 4) | 200 OK [http://127.0.0.1/roles/index/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 17:40:18) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 89ms (View: 55, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-23 17:40:20) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 74ms (View: 31, DB: 3) | 200 OK [http://127.0.0.1/users/11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-23 17:40:23) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 79ms (View: 30, DB: 4) | 200 OK [http://127.0.0.1/users/11/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 17:41:51) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 214ms (View: 55, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:41:54) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 42ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:41:55) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 68ms (View: 27, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:41:57) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 55ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 17:42:00) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@roles) do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:43:10) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 45ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 17:43:11) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb66fec24>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (70.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:47:14) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 202ms (View: 45, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:47:15) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 37ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 17:47:18) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb66574ec>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 17:48:15) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb6697cb8>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for (@role) do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (135.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 17:48:41) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb677e974>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for @role do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:54:27) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 77ms (View: 36, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:54:30) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 47ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-23 17:54:32) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/roles
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/roles/update/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:54:32) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 103ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-23 17:54:39) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/roles
Completed in 48ms (DB: 4) | 302 Found [http://127.0.0.1/roles/update/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:54:39) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 59ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 17:56:25) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 93ms (View: 48, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:56:27) [GET]
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `edit_role_path' for #<ActionView::Base:0xb676ac6c>) on line #17 of app/views/roles/index.html.erb:
14:   <tr>
15:     <td align="center"><%=h role.name %></td>
16:     <td align="center"><%=link_to "Show", :id => role, :action => "show" %> </td>
17:     <td align="center"><%=link_to 'Edit',  edit_role_path(role) %> </td>
18:     <td align="center"><%=link_to 'Delete'  %> </td>
19:   </tr>
20: <% end %>

    app/views/roles/index.html.erb:17
    app/views/roles/index.html.erb:13:in `each'
    app/views/roles/index.html.erb:13
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (50.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 17:57:46) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 177ms (View: 51, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:57:47) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 80ms (View: 37, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:57:48) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 73ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 17:57:49) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 69ms (View: 26, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 17:57:52) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 55ms (View: 13, DB: 4) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 17:57:55) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb6658cd4>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 18:00:42) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 71ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 18:00:44) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 173ms (View: 52, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-23 18:00:46) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 50ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/users/11/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 18:03:55) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 111ms (View: 59, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 18:03:56) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 79ms (View: 48, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 18:03:59) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 67ms (View: 24, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 18:04:00) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb65debc8>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 18:05:11) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 68ms (View: 27, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 18:05:12) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 110ms (View: 16, DB: 14) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 18:05:24) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 54ms (View: 12, DB: 4) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-23 18:05:28) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 49ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-23 18:05:32) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb663a8c4>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 22:23:37) [GET]
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 51ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 22:23:38) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 27ms (View: 23, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 22:23:42) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 96ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 22:23:43) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 37ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 22:23:46) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb689c2fc@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 44ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 22:23:46) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 13ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 22:23:46) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 22:23:56) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 22:23:56) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 29ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 22:23:58) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 70ms (View: 34, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 22:24:00) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/roles
Filter chain halted as [#<Proc:0xb680125c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 38ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-23 22:24:00) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 92ms (DB: 2) | 302 Found [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 22:24:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 15ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 22:24:08) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "password"=>"hehe"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 25ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 22:24:08) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 29ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 22:24:10) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb681179c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 22:24:10) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 12ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 22:24:10) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 9, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-23 22:24:17) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "password"=>"buddy"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 30ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-23 22:24:17) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 49ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 22:24:19) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 90ms (View: 57, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-23 22:24:21) [POST]
  Parameters: {"authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 42ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-23 22:24:28) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "role"=>{"name"=>"eee", "description"=>"sssss"}, "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.8ms)[0m   [0mdescribe `roles_users`[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (4, 11)[0m
  [4;36;1mSQL (8.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'buddy' AND `users`.id <> 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 57ms (DB: 13) | 302 Found [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-23 22:24:28) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 75ms (View: 48, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-23 22:24:41) [GET]
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (4.5ms)
Completed in 128ms (View: 50, DB: 2) | 200 OK [http://127.0.0.1/store]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-23 22:24:46) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "id"=>"5"}
  [4;36;1mProduct Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (9.7ms)
Rendered store/_cart (23.3ms)
Completed in 67ms (View: 36, DB: 3) | 200 OK [http://127.0.0.1/store/add_to_cart/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-23 22:24:49) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "id"=>"2"}
  [4;36;1mProduct Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (6.5ms)
Rendered store/_cart_item (0.8ms)
Rendered store/_cart (12.2ms)
Completed in 39ms (View: 15, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#add_to_cart (for 127.0.0.1 at 2009-10-23 22:24:51) [POST]
  Parameters: {"commit"=>"Add to Cart", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "id"=>"5"}
  [4;36;1mProduct Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 5) [0m
Rendering store/add_to_cart
Rendered store/_cart_item (5.1ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (9.6ms)
Completed in 33ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/store/add_to_cart/5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#checkout (for 127.0.0.1 at 2009-10-23 22:24:52) [POST]
  Parameters: {"authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY="}
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
Rendering template within layouts/store
Rendering store/checkout
  [4;35;1mProduct Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart_item (6.5ms)
Rendered store/_cart_item (0.6ms)
Rendered store/_cart (10.6ms)
Completed in 67ms (View: 28, DB: 3) | 200 OK [http://127.0.0.1/store/checkout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#save_order (for 127.0.0.1 at 2009-10-23 22:25:02) [POST]
  Parameters: {"commit"=>"Place Order", "authenticity_token"=>"xSt2fcbsLsKDmrh0bD3uq+QmWVXnyybl+P43IT1EqYY=", "order"=>{"address"=>"ssss", "name"=>"ssss", "pay_type"=>"cc", "email"=>"ssssss"}}
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mLineItem Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mProduct Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mOrder Create (0.2ms)[0m   [0;1mINSERT INTO `orders` (`name`, `address`, `created_at`, `updated_at`, `pay_type`, `email`) VALUES('ssss', 'ssss', '2009-10-23 14:25:02', '2009-10-23 14:25:02', 'cc', 'ssssss')[0m
  [4;35;1mLineItem Create (0.2ms)[0m   [0mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-23 14:25:02', 5, 2, 5, 0.06, '2009-10-23 14:25:02')[0m
  [4;36;1mLineItem Create (0.1ms)[0m   [0;1mINSERT INTO `line_items` (`created_at`, `product_id`, `quantity`, `order_id`, `total_price`, `updated_at`) VALUES('2009-10-23 14:25:02', 2, 1, 5, 10.0, '2009-10-23 14:25:02')[0m
  [4;35;1mSQL (9.0ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/store
Completed in 63ms (DB: 13) | 302 Found [http://127.0.0.1/store/save_order]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing StoreController#index (for 127.0.0.1 at 2009-10-23 22:25:02) [GET]
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY title[0m
Rendering template within layouts/store
Rendering store/index
  [4;35;1mProduct Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered store/_cart (3.1ms)
Completed in 113ms (View: 36, DB: 2) | 200 OK [http://127.0.0.1/store]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-24 22:48:16) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 190ms (DB: 18) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-24 22:48:16) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 103ms (View: 96, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-24 22:48:27) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"4AjKwc3T0erWDtK2mYaJqQne9xXOKpfDTTBXSQ1+FvE=", "password"=>"buddy"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-24 22:48:27) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 86ms (View: 31, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:48:30) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 143ms (View: 80, DB: 5) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-24 22:48:32) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 65ms (View: 29, DB: 3) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-24 22:48:36) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb68adb9c>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages_for  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.6ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:48:43) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 43ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:50:32) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 123ms (View: 23, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:50:33) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 44ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:50:34) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 40ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:50:35) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 46ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-24 22:50:37) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/roles
Completed in 40ms (DB: 3) | 302 Found [http://127.0.0.1/roles/update/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:50:37) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 110ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:52:41) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 66ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-24 22:52:43) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/roles
Completed in 41ms (DB: 4) | 302 Found [http://127.0.0.1/roles/update/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-24 22:52:43) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 62ms (View: 28, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (14.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;36;1mroles_users Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 11 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-25 09:48:05) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 47ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-25 09:48:05) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 29ms (View: 25, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-25 09:48:12) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "password"=>"buddy"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 99ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-25 09:48:12) [GET]
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 46ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-25 09:48:14) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 75ms (View: 34, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 09:48:16) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 117ms (View: 68, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 09:48:18) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 47ms (View: 17, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 09:48:22) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"eee", "description"=>"ssss"}, "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `roles_users`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (4, 11)[0m
  [4;35;1mSQL (8.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'buddy' AND `users`.id <> 11) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 62ms (DB: 14) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 09:48:22) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 75ms (View: 47, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 09:54:44) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 159ms (View: 49, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-25 09:54:50) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 63ms (View: 28, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 09:54:52) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 78ms (View: 48, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-25 09:54:55) [DELETE]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Redirected to http://127.0.0.1:3000/users

ActionController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  app/controllers/users_controller.rb:95:in `destroy'
  app/controllers/users_controller.rb:94:in `destroy'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.1ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 09:55:43) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 73ms (View: 47, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (30.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-25 10:12:45) [GET]

SyntaxError (/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:138: syntax error, unexpected kEND, expecting $end):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-25 10:19:30) [GET]
  [4;36;1mUser Columns (28.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 211ms (View: 57, DB: 54) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-25 10:19:31) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 36ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-25 10:19:33) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 47ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:19:35) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 156ms (View: 110, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 10:19:37) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 39ms (View: 10, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:19:42) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"eee", "description"=>""}, "id"=>"4"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 10:23:33) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m

ActionView::MissingTemplate (Missing template users/grant_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-25 10:25:53) [GET]

SyntaxError (/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:110: syntax error, unexpected kEND, expecting $end):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (67.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-25 10:26:19) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 168ms (View: 64, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-25 10:27:55) [GET]
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 143ms (View: 61, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:27:57) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 369ms (View: 227, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-25 10:27:59) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 101ms (View: 65, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:28:02) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 77ms (View: 50, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-25 10:28:06) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 137ms (View: 98, DB: 3) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#create (for 127.0.0.1 at 2009-10-25 10:28:18) [POST]
  Parameters: {"commit"=>"Add User", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "user"=>{"name"=>"spring", "password_confirmation"=>"spring", "password"=>"spring"}}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'spring') LIMIT 1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `salt`, `created_at`, `updated_at`, `hashed_password`) VALUES('spring', '-6170009080.814900511436194', '2009-10-25 02:28:18', '2009-10-25 02:28:18', 'f6be5c9840781e3e64afd1774e25973647b29d99')[0m
  [4;35;1mSQL (6.7ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 47ms (DB: 11) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:28:18) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 84ms (View: 55, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 10:28:33) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m

ActionController::UnknownAction (No action responded to grant_role. Actions: create, destroy, edit, index, new, redirect_index, show, and update):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:33:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 88ms (View: 58, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:33:21) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 80ms (View: 54, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:33:23) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 81ms (View: 54, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 10:33:24) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 51ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role/4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:33:29) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"ss", "description"=>"ss"}, "id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 132ms (View: 89, DB: 4) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:34:38) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"ss", "description"=>"ss"}, "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:34:47) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 99ms (View: 55, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:34:48) [GET]
  [4;35;1mUser Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 145ms (View: 56, DB: 8) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 10:34:51) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 38ms (View: 10, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:34:57) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"ss", "description"=>"ppp"}, "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:36:38) [GET]
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 171ms (View: 58, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:36:39) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 93ms (View: 57, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 10:36:40) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"12"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 36ms (View: 10, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role/12]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:36:59) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"eee", "description"=>"This role can enter the page!"}, "id"=>"12"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:40:15) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 102ms (View: 56, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:40:16) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 88ms (View: 57, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 10:40:18) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 34ms (View: 9, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:40:22) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"ss", "description"=>"sssss"}, "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:40:28) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"ss", "description"=>"sssss"}, "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (33.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (40.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:44:06) [GET]
  [4;36;1mUser Columns (50.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 332ms (View: 157, DB: 156) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:44:06) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 166ms (View: 121, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-25 10:44:08) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 55ms (View: 18, DB: 3) | 200 OK [http://127.0.0.1/users/11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#show (for 127.0.0.1 at 2009-10-25 10:44:11) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Rendering template within layouts/store
Rendering users/show
Completed in 56ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/users/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-25 10:44:13) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 188ms (View: 146, DB: 3) | 200 OK [http://127.0.0.1/users/11/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 10:44:20) [POST]
  Parameters: {"authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "id"=>"4"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 44ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:44:25) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"", "description"=>""}, "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 62ms (View: 19, DB: 3) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:44:54) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"", "description"=>""}, "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 31ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 4 ) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 10:47:00) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"VF+DB/O6A0sJpFKBTCtWXoznQyiRG7Xk3A+emNqad18=", "role"=>{"name"=>"ss", "description"=>"dd"}, "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 192ms (View: 6, DB: 5) | 200 OK [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 10:47:06) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 106ms (View: 60, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (9.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (12.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-25 22:08:13) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 103ms (DB: 42) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-25 22:08:14) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 46ms (View: 39, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-25 22:09:42) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 35ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-25 22:09:42) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (19.2ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 81ms (View: 22, DB: 23) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 22:10:30) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (19.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (16.9ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 214ms (View: 130, DB: 42) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 22:10:31) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 238ms (View: 102, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-25 22:10:33) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 77ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/users/11/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 22:10:39) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 145ms (View: 99, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 22:10:45) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (21.8ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 173ms (View: 109, DB: 25) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 22:11:08) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"hehe", "description"=>"nihao\r\n"}, "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Rendering template within layouts/store
Rendering users/save_role
Completed in 64ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 22:15:19) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 145ms (View: 99, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 22:15:22) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 155ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 22:16:04) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"hehe", "description"=>"What are you laughing at?"}, "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 22:20:58) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 63ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 22:21:00) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"hehe", "description"=>"What are you laughing at?"}, "id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `roles_users`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (3, 4)[0m
  [4;35;1mSQL (94.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (31.4ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'gaga' AND `users`.id <> 4) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 273ms (DB: 132) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 22:21:00) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 145ms (View: 98, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 22:24:37) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 144ms (View: 99, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 22:24:40) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 62ms (View: 17, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 22:24:49) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"hehe", "description"=>"hehe"}, "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 22:25:19) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 62ms (View: 17, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 22:25:23) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"hehe", "description"=>"hehe"}, "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m

ActionView::MissingTemplate (Missing template users/save_role.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-25 22:27:30) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 49ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 22:27:34) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 144ms (View: 99, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-25 22:27:37) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 59ms (View: 17, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-25 22:27:47) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"hehe", "description"=>"hrhr"}, "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hehe') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `roles_users`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (3, 4)[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'gaga' AND `users`.id <> 4) LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 65ms (DB: 11) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-25 22:27:47) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 145ms (View: 99, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
  [4;35;1mroles_users Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (43.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 4 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:06:56) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 96ms (View: 25, DB: 23) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:07:08) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.6ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 189ms (View: 139, DB: 7) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:07:10) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 81ms (View: 44, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:07:18) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 133ms (View: 88, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-26 09:07:27) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:07:27) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 20ms (View: 13, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:07:32) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:07:32) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 39ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:07:38) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 112ms (View: 64, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 09:07:40) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.7ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 134ms (View: 18, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-26 09:07:45) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"ss", "description"=>"ss"}, "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'ss') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `roles_users`[0m
  [4;36;1mroles_users Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (2, 4)[0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'gaga' AND `users`.id <> 4) LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 66ms (DB: 13) | 302 Found [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:07:45) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 92ms (View: 56, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-26 09:08:16) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:08:16) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:08:17) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:08:19) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:08:23) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:08:23) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 30ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:08:25) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'ss') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 2) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb676cf58@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:08:25) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 13ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:08:25) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:08:35) [POST]
  Parameters: {"name"=>"gaga", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"gag"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
Rendering template within layouts/store
Rendering admin/login
Completed in 41ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:08:38) [POST]
  Parameters: {"name"=>"gaga", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"gaga"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:08:38) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 30ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:08:41) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 46ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:08:42) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'ss') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 2) AND (`roles_users`.user_id = 4 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 88ms (View: 54, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-26 09:08:59) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 17ms (DB: 1) | 302 Found [http://127.0.0.1/admin/logout]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:08:59) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:01) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:13) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:17) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 18ms (DB: 1) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:09:17) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 30ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:09:18) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb670f2e0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 26ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:09:18) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 12ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:18) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:23) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:09:23) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 29ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:09:24) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb670f650@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 38ms (DB: 4) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:09:24) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:24) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:30) [POST]
  Parameters: {"name"=>"gaga", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"gaga"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'gaga') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:09:30) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 28ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:09:32) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) LIMIT 1[0m
  [4;36;1mUser Load (2.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'editors') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 4 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb6712094@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 50ms (DB: 6) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:09:32) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:32) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:09:51) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:10:00) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 30ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:10:00) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 43ms (View: 6, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:10:02) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'sss') LIMIT 1[0m

RuntimeError (sss does not exist):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (112.0ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:10:23) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 34ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:10:25) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'ss') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 2) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb66b06f0@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 36ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:10:25) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 76ms (DB: 1) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:10:25) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;35;1mroles_users Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 11 ) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:11:47) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 09:11:51) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 09:11:51) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 28ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:11:53) [GET]
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 89ms (View: 58, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:20:33) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 102ms (View: 56, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:20:34) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 189ms (View: 65, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:20:37) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 63ms (View: 28, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 09:20:39) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 57ms (View: 21, DB: 3) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-26 09:20:43) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3000/roles
Completed in 152ms (DB: 3) | 302 Found [http://127.0.0.1/roles/update/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:20:44) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 51ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:22:08) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 89ms (View: 43, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:23:53) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 137ms (View: 102, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#destroy (for 127.0.0.1 at 2009-10-26 09:23:58) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m

ActionController::UnknownAction (No action responded to destroy. Actions: create, edit, get_role_message, index, new, show, and update):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-26 09:24:13) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/roles
Completed in 42ms (DB: 3) | 302 Found [http://127.0.0.1/roles/update/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:24:13) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 58ms (View: 21, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:25:48) [GET]
  [4;35;1mUser Columns (18.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `edit_role_path' for #<ActionView::Base:0xb67b337c>) on line #17 of app/views/roles/index.html.erb:
14:   <tr>
15:     <td align="center"><%=h role.name %></td>
16:     <td align="center"><%=link_to "Show", :id => role, :action => "show" %> </td>
17:     <td align="center"><%=link_to 'Edit', edit_role_path(role) %> </td>
18:     <td align="center"><%=link_to 'Delete',:id => role, :action => "destroy"  %> </td>
19:   </tr>
20: <% end %>

    app/views/roles/index.html.erb:17
    app/views/roles/index.html.erb:13:in `each'
    app/views/roles/index.html.erb:13
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:35:05) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 317ms (View: 106, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:35:07) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 55, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-26 09:35:08) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 66ms (View: 41, DB: 2) | 200 OK [http://127.0.0.1/users/11/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:35:11) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 86ms (View: 57, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:35:12) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `edit_role_path' for #<ActionView::Base:0xb668098c>) on line #17 of app/views/roles/index.html.erb:
14:   <tr>
15:     <td align="center"><%=h role.name %></td>
16:     <td align="center"><%=link_to "Show", :id => role, :action => "show" %> </td>
17:     <td align="center"><%=link_to 'Edit', edit_role_path(role) %> </td>
18:     <td align="center"><%=link_to 'Delete',:id => role, :action => "destroy"  %> </td>
19:   </tr>
20: <% end %>

    app/views/roles/index.html.erb:17
    app/views/roles/index.html.erb:13:in `each'
    app/views/roles/index.html.erb:13
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (122.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:36:37) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 56, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:36:38) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 99ms (View: 62, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:36:40) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 75ms (View: 40, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 09:36:43) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb66f59d0>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (69.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:38:01) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb6796268>) on line #18 of app/views/roles/index.html.erb:
15:     <td align="center"><%=h role.name %></td>
16:     <td align="center"><%=link_to "Show", :id => role, :action => "show" %> </td>
17:     <td align="center"><%=link_to 'Edit', :id => role, :action => "edit" %> </td>
18:     <td align="center"><%= link_to 'Destroy', role, :confirm => 'Are you sure?', :method => :delete %></td>
19:   </tr>
20: <% end %>
21: </table>

    app/views/roles/index.html.erb:18
    app/views/roles/index.html.erb:13:in `each'
    app/views/roles/index.html.erb:13
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:45:26) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 125ms (View: 54, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 09:45:29) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 83ms (View: 56, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 09:54:53) [GET]
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb664af58>) on line #18 of app/views/roles/index.html.erb:
15:     <td align="center"><%=h role.name %></td>
16:     <td align="center"><%=link_to "Show", :id => role, :action => "show" %> </td>
17:     <td align="center"><%=link_to 'Edit', :id => role, :action => "edit" %> </td>
18:     <td align="center"><%= link_to 'Destroy', role, :confirm => 'Are you sure?', :method => :delete %></td>
19:   </tr>
20: <% end %>
21: </table>

    app/views/roles/index.html.erb:18
    app/views/roles/index.html.erb:13:in `each'
    app/views/roles/index.html.erb:13
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (130.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:14:59) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 258ms (View: 78, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#edit (for 127.0.0.1 at 2009-10-26 10:15:03) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Rendering template within layouts/store
Rendering users/edit
Completed in 65ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/users/11/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:15:07) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb67add3c>) on line #18 of app/views/roles/index.html.erb:
15:     <td align="center"><%=h role.name %></td>
16:     <td align="center"><%=link_to "Show", :id => role, :action => "show" %> </td>
17:     <td align="center"><%=link_to 'Edit', :id => role, :action => "edit" %> </td>
18:     <td align="center"><%= link_to 'Destroy', role, :confirm => 'Are you sure?', :method => :delete %></td>
19:   </tr>
20: <% end %>
21: </table>

    app/views/roles/index.html.erb:18
    app/views/roles/index.html.erb:13:in `each'
    app/views/roles/index.html.erb:13
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (54.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:17:31) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 82ms (View: 56, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:17:32) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 111ms (View: 65, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:17:33) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 46ms (View: 26, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-26 10:17:34) [GET]

ActionController::RoutingError (No route matches "/role" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-26 10:17:56) [GET]

ActionController::RoutingError (No route matches "/role" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:17:58) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 52ms (View: 27, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:18:00) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 72ms (View: 37, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-26 10:18:03) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 35ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:18:04) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 53ms (View: 12, DB: 34) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:18:09) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 47ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:18:09) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 46ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:18:11) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 100ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:18:12) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 74ms (View: 38, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 10:18:14) [GET]
  Parameters: {"id"=>"role"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Role with ID=role):
  app/controllers/roles_controller.rb:8:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 10:18:32) [GET]
  Parameters: {"id"=>"role"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Role with ID=role):
  app/controllers/roles_controller.rb:8:in `show'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:18:34) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 84ms (View: 47, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 10:18:36) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 35ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:18:42) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 72ms (View: 35, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:18:54) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 76ms (View: 38, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 10:18:55) [GET]
  Parameters: {"id"=>"role"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Role with ID=role):
  app/controllers/roles_controller.rb:16:in `edit'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 10:20:28) [GET]
  Parameters: {"id"=>"role"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Role with ID=role):
  app/controllers/roles_controller.rb:16:in `edit'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-26 10:23:49) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 17ms (DB: 1) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:23:49) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:23:51) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 14ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:23:56) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:23:57) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 28ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:24:00) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 87ms (View: 58, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 10:24:04) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"8"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 62ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-26 10:24:15) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"hello", "description"=>"hello"}, "id"=>"8"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (50.9ms)[0m   [0mdescribe `roles_users`[0m
  [4;36;1mroles_users Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mSQL (7.0ms)[0m   [0mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (5, 8)[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (61.8ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'mm' AND `users`.id <> 8) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 177ms (DB: 128) | 302 Found [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:24:16) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'eee') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 4) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 180ms (View: 57, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:24:28) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/users/grant_role?id=8
Filter chain halted as [#<Proc:0xb66e61ec@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 27ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 10:24:28) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 13ms (DB: 1) | 302 Found [http://127.0.0.1/users/grant_role?id=8]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:24:28) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:24:34) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"mm"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:24:34) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 29ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:24:35) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 109ms (View: 61, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (1.0ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:24:38) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 73ms (View: 37, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:24:42) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 87ms (View: 57, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-26 10:24:46) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:24:47) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:24:50) [POST]
  Parameters: {"name"=>"spring", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"spring"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'spring') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 30ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:24:51) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
Completed in 96ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:24:53) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 12 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb67a0f74@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:24:53) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 32ms (DB: 11) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:24:53) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:25:01) [POST]
  Parameters: {"name"=>"xiaoxiao", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"xiaoxiao"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'xiaoxiao') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 25ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:25:01) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
Completed in 99ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:25:02) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 10 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 141ms (View: 93, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-26 10:25:11) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 10) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Completed in 26ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:25:11) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:25:16) [POST]
  Parameters: {"name"=>"hehe", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"hehe"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'hehe') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 17ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:25:16) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Completed in 29ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 10:25:17) [GET]
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 1 ) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Filter chain halted as [#<Proc:0xb677449c@/home/longjiahui/projects/Depot/app/controllers/users_controller.rb:4>] rendered_or_redirected.
Completed in 41ms (DB: 5) | 302 Found [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:25:17) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 22ms (DB: 2) | 302 Found [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:25:17) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 20ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:26:00) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 10:26:04) [POST]
  Parameters: {"name"=>"mm", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"mm"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'mm') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 20ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 10:26:04) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 28ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:26:07) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 78ms (View: 44, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 10:26:08) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 49ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/roles/show/6]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 10:26:11) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 45ms (View: 22, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 10:26:12) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 6) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb66e3de8>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 11:44:49) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 42ms (View: 21, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 11:44:50) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 118ms (View: 72, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (66.8ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 14:21:16) [GET]
  [4;35;1mUser Columns (108.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 312ms (View: 54, DB: 205) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 14:21:18) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 162ms (View: 21, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 14:21:24) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 156ms (View: 109, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:21:28) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:18: syntax error, unexpected ')'
         ).to_s); @output_buffer.concat ...
          ^
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n \n\n      <p>\n        "




; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "\n\n\n        "


; @output_buffer.concat((
        form.check_box :name,
          Role.get_roles,
         
         ).to_s); @output_buffer.concat "\n      </p>\n      <input type=\"checkbox\" value=\"100\"/>hehe<br />\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:36:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:18: syntax error, unexpected ')'
         ).to_s); @output_buffer.concat ...
          ^) on line #18 of app/views/users/grant_role.html.erb:
15:         form.check_box :name,
16:           Role.get_roles,
17:          
18:          %>
19:       </p>
20:       <input type="checkbox" value="100"/>hehe<br />
21:       <input type="hidden" value="<%= params[:id] %>" name="id" />

    app/views/users/grant_role.html.erb:36:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (156.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 14:28:38) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 122ms (View: 75, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:28:39) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 38ms (View: 14, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:29:06) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 111ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:29:37) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 50ms (View: 14, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:29:49) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 110ms (View: 81, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:31:19) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 60ms (View: 15, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:31:22) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
Completed in 57ms (View: 13, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:35:00) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role

ActionView::TemplateError (undefined local variable or method `vise' for #<ActionView::Base:0xb6780670>) on line #10 of app/views/users/grant_role.html.erb:
7: 
8:       <p>
9:         <%= label :role, :name, "RoleName:" %><br />
10:         <% form.check_box(:name, :save_role,{:checked=>vise} ,"1", "0") %>
11: 
12:         <input type="checkbox" value="100"/>hehe<br />
13:         <input type="checkbox" value="100"/>hehe<br />

    app/views/users/grant_role.html.erb:10
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:35:27) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role

ActionView::TemplateError (undefined local variable or method `role' for #<ActionView::Base:0xb6614fc0>) on line #10 of app/views/users/grant_role.html.erb:
7: 
8:       <p>
9:         <%= label :role, :name, "RoleName:" %><br />
10:         <% form.check_box(:name, :save_role,{:checked=>role} ,"1", "0") %>
11: 
12:         <input type="checkbox" value="100"/>hehe<br />
13:         <input type="checkbox" value="100"/>hehe<br />

    app/views/users/grant_role.html.erb:10
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:44:26) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 57ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:49:42) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;36;1mUser Columns (50.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 565ms (View: 62, DB: 53) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 14:52:09) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 115ms (View: 61, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 14:52:10) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 179ms (View: 60, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 14:52:19) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 42ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 14:52:22) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 114ms (View: 68, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 15:00:38) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 117ms (View: 69, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 15:00:40) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 95ms (View: 55, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 15:00:41) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'hello') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 5) AND (`roles_users`.user_id = 8 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 40ms (View: 10, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (22.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to GenerateAccessControlModels (20091020083707)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (12.7ms)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mdescribe `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `products`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (21.4ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to GenerateAccessControlModels (20091020083707)
Migrating to RebuildAccessControl (20091026072127)
  [4;36;1mSQL (39.4ms)[0m   [0;1mCREATE TABLE `permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `authorizable_id` int(11), `authorizable_type` varchar(255), `created_at` datetime, `updated_at` datetime, `god` tinyint(1) DEFAULT 0) ENGINE=InnoDB[0m
  [4;35;1mSQL (20.5ms)[0m   [0mCREATE TABLE `roles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE TABLE `user_roles` (`user_id` int(11), `role_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091026072127')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `sessions`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `sessions`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW FIELDS FROM `user_roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `user_roles`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `user_roles`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.3ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('Admin', '2009-10-26 07:28:53', '2009-10-26 07:28:53', 'Can do everything.')[0m
  [4;35;1mSQL (4.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('keyword viewer', '2009-10-26 07:31:29', '2009-10-26 07:31:29', 'can look up keword.')[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.4ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('keyword manager', '2009-10-26 07:32:03', '2009-10-26 07:32:03', 'can look up keword.')[0m
  [4;35;1mSQL (4.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('link viewer', '2009-10-26 07:32:52', '2009-10-26 07:32:52', 'can look up keword.')[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.3ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('link manager', '2009-10-26 07:33:14', '2009-10-26 07:33:14', 'can look up keword.')[0m
  [4;35;1mSQL (12.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('data check', '2009-10-26 07:33:50', '2009-10-26 07:33:50', 'can check data.')[0m
  [4;36;1mSQL (8.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Table 'Depot_development.roles_users' doesn't exist: describe `roles_users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Table 'Depot_development.roles_users' doesn't exist: describe `roles_users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Table 'Depot_development.roles_users' doesn't exist: describe `roles_users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mMysql::Error: Table 'Depot_development.roles_users' doesn't exist: describe `roles_users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mMysql::Error: Table 'Depot_development.roles_users' doesn't exist: SELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `roles_users`[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (1, 11)[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 15:47:08) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 93ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 15:47:10) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
Completed in 28ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#logout (for 127.0.0.1 at 2009-10-26 15:47:12) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin/login
Completed in 27ms (DB: 2) | 302 Found [http://127.0.0.1/admin/logout]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 15:47:12) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 30ms (View: 22, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 15:47:14) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 18ms (View: 11, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-26 15:47:19) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "password"=>"buddy"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3001/admin
Completed in 102ms (DB: 2) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 15:47:19) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 30ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-26 15:47:21) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 15:47:30) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 96ms (View: 64, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-26 15:47:47) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 15:51:20) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 86ms (View: 56, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-26 15:51:21) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-26 15:53:07) [GET]

ActionController::RoutingError (No route matches "/roles" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 15:56:13) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 188ms (View: 132, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 15:56:15) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 58ms (View: 24, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 15:56:18) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 55ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 15:56:20) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 39ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 15:56:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/show

ActionView::TemplateError (undefined method `description' for #<User:0xb68678cc>) on line #8 of app/views/roles/show.html.erb:
5: 
6: <p>
7:   <b>Description:</b>
8:   <%=h @role.description %>
9: </p>

    app/views/roles/show.html.erb:8
    app/controllers/roles_controller.rb:15:in `show'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.2ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 15:56:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/show

ActionView::TemplateError (undefined method `description' for #<User:0xb690d614>) on line #8 of app/views/roles/show.html.erb:
5: 
6: <p>
7:   <b>Description:</b>
8:   <%=h @role.description %>
9: </p>

    app/views/roles/show.html.erb:8
    app/controllers/roles_controller.rb:15:in `show'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 15:58:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/show

ActionView::TemplateError (undefined method `description' for #<User:0xb67b54b0>) on line #8 of app/views/roles/show.html.erb:
5: 
6: <p>
7:   <b>Description:</b>
8:   <%=h @role.description %>
9: </p>

    app/views/roles/show.html.erb:8
    app/controllers/roles_controller.rb:15:in `show'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (141.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 15:58:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (54.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 15:59:21) [GET]
  [4;36;1mUser Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 75ms (View: 33, DB: 6) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 15:59:23) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 70ms (View: 30, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 15:59:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/show

ActionView::TemplateError (undefined method `description' for #<User:0xb6811f94>) on line #8 of app/views/roles/show.html.erb:
5: 
6: <p>
7:   <b>Description:</b>
8:   <%=h @role.description %>
9: </p>

    app/views/roles/show.html.erb:8
    app/controllers/roles_controller.rb:15:in `show'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (121.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 15:59:49) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 57ms (View: 17, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 15:59:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 40ms (View: 7, DB: 3) | 200 OK [http://127.0.0.1/roles/show/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 16:00:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (54.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:05:26) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 54ms (View: 17, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:05:27) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 159ms (View: 126, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:05:29) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 59ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:05:48) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 141ms (View: 95, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:07:42) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 89ms (View: 59, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:07:43) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m

ActionView::TemplateError (undefined method `edit_role_path' for #<ActionView::Base:0xb67c6c74>) on line #17 of app/views/roles/index.html.erb:
14:   <tr>
15:     <td align="center"><%=h role.name %></td>
16:     <td align="center"><%=link_to "Show", :id => role, :action => "show" %> </td>
17:     <td align="center"><%=link_to 'Edit', edit_role_path(role) %> </td>
18:     <td align="center"><%= link_to 'Destroy', :id => "role", :confirm => 'Are you sure?', :method => :delete %></td>
19:   </tr>
20: <% end %>

    app/views/roles/index.html.erb:17
    app/views/roles/index.html.erb:13:in `each'
    app/views/roles/index.html.erb:13
    app/controllers/roles_controller.rb:6:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:08:25) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 137ms (View: 88, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:08:27) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 66ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 16:08:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 31ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/roles/show/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 16:08:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb689c93c>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:18:54) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 123ms (View: 87, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:18:56) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 61ms (View: 21, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:18:58) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 118ms (View: 70, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:19:01) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 117ms (View: 19, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:19:43) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (undefined local variable or method `role' for #<ActionView::Base:0xb68b42a8>) on line #16 of app/views/users/grant_role.html.erb:
13:           :prompt => "Select a role"
14:       %>
15:       </p>
16:       <input type="checkbox" value="<%=  params[:role_id]  %>"/><% h role.name  %><br />
17:       <input type="hidden" value="<%= params[:id] %>" name="id" />
18: 
19:       <p>

    app/views/users/grant_role.html.erb:16
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:22:33) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 188ms (View: 143, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:24:42) [GET]
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 129ms (View: 81, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:24:44) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 160ms (View: 68, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:24:45) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 64ms (View: 28, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 16:24:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/show
Completed in 48ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/roles/show/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:24:50) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 173ms (View: 141, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:24:51) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 72ms (View: 28, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:24:54) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 52ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:25:32) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 43ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:26:50) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 62ms (View: 25, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 16:26:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb684caf4>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:31:24) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 40ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:31:27) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 97ms (View: 55, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:31:28) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 53ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:32:14) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 44ms (View: 17, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:32:36) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 70ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:33:18) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 39ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:33:51) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 58ms (View: 21, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:33:53) [GET]
  Parameters: {"confirm"=>"Are you sure?", "method"=>"delete", "id"=>"role"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 60ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/roles/index/role?confirm=Are+you+sure%3F&method=delete]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:33:54) [GET]
  Parameters: {"confirm"=>"Are you sure?", "method"=>"delete", "id"=>"role"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 130ms (View: 17, DB: 2) | 200 OK [http://127.0.0.1/roles/index/role?confirm=Are+you+sure%3F&method=delete]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:35:02) [GET]
  Parameters: {"id"=>"role"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.5ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 66ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/roles/index/role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:35:02) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 116ms (View: 70, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:35:04) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"1"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 70ms (View: 27, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:35:19) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"1"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 44ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:38:01) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"1"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:17: syntax error, unexpected ')'
...at(( Role.get_roles do |r|   ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( Role.get_roles do |r|   ).to_s); @output_buffer.concat "\n        <input type=\"checkbox\" value=\""
; @output_buffer.concat(( r.id ).to_s); @output_buffer.concat "\"/>";  h r.name ; @output_buffer.concat "<br />\n      "
;  end ; @output_buffer.concat "\n      <input type=\"hidden\" value=\""
; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:17: syntax error, unexpected ')'
...at(( Role.get_roles do |r|   ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')') on line #17 of app/views/users/grant_role.html.erb:
14:       %>
15:       </p>
16: 
17:       <%= Role.get_roles do |r|   %>
18:         <input type="checkbox" value="<%= r.id %>"/><% h r.name %><br />
19:       <% end %>
20:       <input type="hidden" value="<%= params[:id] %>" name="id" />

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:39:12) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"1"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:17: syntax error, unexpected ')'
...at(( Role.get_roles do |k,v| ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( Role.get_roles do |k,v| ).to_s); @output_buffer.concat "\n        <input type=\"checkbox\" value=\""
; @output_buffer.concat(( v.id ).to_s); @output_buffer.concat "\"/>";  h v.name ; @output_buffer.concat "<br />\n      "
;  end ; @output_buffer.concat "\n      <input type=\"hidden\" value=\""
; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:17: syntax error, unexpected ')'
...at(( Role.get_roles do |k,v| ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')') on line #17 of app/views/users/grant_role.html.erb:
14:       %>
15:       </p>
16: 
17:       <%= Role.get_roles do |k,v| %>
18:         <input type="checkbox" value="<%= v.id %>"/><% h v.name %><br />
19:       <% end %>
20:       <input type="hidden" value="<%= params[:id] %>" name="id" />

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:39:50) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"1"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 50ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:42:09) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"1"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 43ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:42:11) [GET]
  [4;36;1mUser Columns (8.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 154ms (View: 98, DB: 13) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:42:14) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 151ms (View: 24, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 16:42:15) [GET]
  Parameters: {"id"=>"role"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Role with ID=role):
  app/controllers/roles_controller.rb:22:in `edit'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (59.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 16:42:39) [GET]
  Parameters: {"id"=>"role"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Role with ID=role):
  app/controllers/roles_controller.rb:22:in `edit'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 16:42:41) [GET]
  Parameters: {"id"=>"role"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Role with ID=role):
  app/controllers/roles_controller.rb:22:in `edit'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:42:43) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 69ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 16:42:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/store
Rendering roles/edit

ActionView::TemplateError (undefined method `role_path' for #<ActionView::Base:0xb6900734>) on line #3 of app/views/roles/edit.html.erb:
1: <h1>Editing roles</h1>
2: 
3: <% form_for(@role) do |f| %>
4:   <%= f.error_messages  %>
5: 
6: <p>

    app/views/roles/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:45:25) [GET]
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 37ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 16:45:26) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY name[0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `roles` [0m
Completed in 38ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:45:27) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 101ms (View: 56, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:45:29) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:13: syntax error, unexpected ')'
      ).to_s); @output_buffer.concat ...
       ^
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.check_box :name,
         
      ).to_s); @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:31:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:13: syntax error, unexpected ')'
      ).to_s); @output_buffer.concat ...
       ^) on line #13 of app/views/users/grant_role.html.erb:
10:         <%=
11:         form.check_box :name,
12:          
13:       %>
14:       </p>
15: 
16:       <input type="hidden" value="<%= params[:id] %>" name="id" />

    app/views/users/grant_role.html.erb:31:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:45:34) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 105ms (View: 59, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:45:44) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 177ms (View: 59, DB: 3) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:45:45) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 54ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 16:48:18) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 111ms (View: 63, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:48:19) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %>
15:        <%= form.check_box @role.name %><br />
16: 
17:       </p>
18: 

    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:48:38) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m

ActionView::TemplateError (undefined method `name' for :role:Symbol) on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %>
15:        <%= form.check_box :role.name %><br />
16: 
17:       </p>
18: 

    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (68.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:50:36) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %>
15:        <%= form.check_box %><br />
16: 
17:       </p>
18: 

    app/views/users/grant_role.html.erb:15:in `check_box'
    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:50:53) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %>
15:        <!--<%= form.check_box %><br />-->
16: 
17:       </p>
18: 

    app/views/users/grant_role.html.erb:15:in `check_box'
    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:51:02) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 71ms (View: 20, DB: 5) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 16:59:00) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 60ms (View: 10, DB: 5) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20091015012930)
Migrating to AddPriceToProduct (20091015013454)
Migrating to AddTestData (20091015015205)
Migrating to CreateSessions (20091015023958)
Migrating to CreateUsers (20091015065416)
Migrating to CreateOrders (20091015080355)
Migrating to CreateLineItems (20091015080415)
Migrating to GenerateAccessControlModels (20091020083707)
Migrating to CreateMultiplePermissionsAddUserDeleteUserUpdateUser (20091020083957)
Migrating to CreatePermissionAddProduct (20091021025409)
Migrating to CreatePermissions (20091022054459)
  [4;36;1mSQL (0.0ms)[0m   [0;1mMysql::Error: Table 'permissions' already exists: CREATE TABLE `permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to RolesRebuild (20091026090454)
  [4;36;1mSQL (19.0ms)[0m   [0;1mCREATE TABLE `roles` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091026090454')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `roles_users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `roles_users`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `sessions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `sessions`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 17:08:16) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m

RuntimeError (admin does not exist):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.6ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('--- :admin\n', '2009-10-26 09:11:11', '2009-10-26 09:11:11', 'can do all')[0m
  [4;35;1mSQL (7.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.4ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('--- :\"keyword viewer\"\n', '2009-10-26 09:12:03', '2009-10-26 09:12:03', 'can look up keyword')[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.3ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('--- :\"keyword manager\"\n', '2009-10-26 09:12:28', '2009-10-26 09:12:28', 'can manage keyword')[0m
  [4;35;1mSQL (8.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Create (0.3ms)[0m   [0mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('--- :\"link viewer\"\n', '2009-10-26 09:13:07', '2009-10-26 09:13:07', 'can look up link')[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Create (0.4ms)[0m   [0;1mINSERT INTO `roles` (`name`, `created_at`, `updated_at`, `description`) VALUES('--- :\"link manager\"\n', '2009-10-26 09:13:31', '2009-10-26 09:13:31', 'can manage link')[0m
  [4;35;1mSQL (11.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 17:14:41) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 108ms (View: 59, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:14:44) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 170ms (View: 132, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 17:16:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 52ms (View: 14, DB: 3) | 200 OK [http://127.0.0.1/roles/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:16:22) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 91ms (View: 54, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 17:16:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/roles
Rendering roles/edit
Completed in 66ms (View: 27, DB: 3) | 200 OK [http://127.0.0.1/roles/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:16:30) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 64ms (View: 32, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 17:16:56) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 29ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 17:16:59) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m

RuntimeError (admin does not exist):
  app/controllers/users_controller.rb:4
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.6ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:17:05) [GET]
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 60ms (View: 36, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 17:17:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/roles
Rendering roles/edit
Completed in 50ms (View: 14, DB: 3) | 200 OK [http://127.0.0.1/roles/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-26 17:17:12) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"admin", "description"=>"can do all"}, "id"=>"1"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (0.3ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-10-26 09:17:12', `name` = 'admin' WHERE `id` = 1[0m
  [4;35;1mSQL (4.3ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3001/roles/1
Completed in 31ms (DB: 7) | 302 Found [http://127.0.0.1/roles/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 17:17:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 1) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 25ms (View: 3, DB: 2) | 200 OK [http://127.0.0.1/roles/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:17:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 60ms (View: 33, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 17:17:17) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 2) [0m
Rendering template within layouts/roles
Rendering roles/edit
Completed in 57ms (View: 17, DB: 5) | 200 OK [http://127.0.0.1/roles/2/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:17:21) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 95ms (View: 57, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 17:17:24) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 2) [0m
Rendering template within layouts/roles
Rendering roles/edit
Completed in 51ms (View: 14, DB: 4) | 200 OK [http://127.0.0.1/roles/2/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-26 17:17:28) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"\"keyword viewer\"", "description"=>"can look up keyword"}, "id"=>"2"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Update (0.3ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-10-26 09:17:28', `name` = '\"keyword viewer\"' WHERE `id` = 2[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3001/roles/2
Completed in 114ms (DB: 9) | 302 Found [http://127.0.0.1/roles/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 17:17:28) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 2) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 26ms (View: 3, DB: 2) | 200 OK [http://127.0.0.1/roles/2]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:17:30) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 84ms (View: 46, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 17:17:34) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 2) [0m
Rendering template within layouts/roles
Rendering roles/edit
Completed in 35ms (View: 8, DB: 2) | 200 OK [http://127.0.0.1/roles/2/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-26 17:17:40) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"keyword viewer", "description"=>"can look up keyword"}, "id"=>"2"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (0.3ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-10-26 09:17:40', `name` = 'keyword viewer' WHERE `id` = 2[0m
  [4;35;1mSQL (4.8ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3001/roles/2
Completed in 111ms (DB: 8) | 302 Found [http://127.0.0.1/roles/2]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 17:17:40) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 2) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 26ms (View: 3, DB: 2) | 200 OK [http://127.0.0.1/roles/2]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:17:41) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 84ms (View: 46, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 17:17:44) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 3) [0m
Rendering template within layouts/roles
Rendering roles/edit
Completed in 48ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/roles/3/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-26 17:17:48) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"keyword manager", "description"=>"can manage keyword"}, "id"=>"3"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 3) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Update (0.6ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-10-26 09:17:48', `name` = 'keyword manager' WHERE `id` = 3[0m
  [4;36;1mSQL (6.4ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3001/roles/3
Completed in 157ms (DB: 11) | 302 Found [http://127.0.0.1/roles/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 17:17:49) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 3) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 26ms (View: 3, DB: 2) | 200 OK [http://127.0.0.1/roles/3]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:17:50) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.4ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 79ms (View: 41, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 17:17:52) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 4) [0m
Rendering template within layouts/roles
Rendering roles/edit
Completed in 44ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/roles/4/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-26 17:17:55) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"link viewer", "description"=>"can look up link"}, "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 4) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRole Update (0.3ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-10-26 09:17:55', `name` = 'link viewer' WHERE `id` = 4[0m
  [4;35;1mSQL (4.4ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3001/roles/4
Completed in 36ms (DB: 7) | 302 Found [http://127.0.0.1/roles/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 17:17:56) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 4) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 27ms (View: 3, DB: 2) | 200 OK [http://127.0.0.1/roles/4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:17:57) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 72ms (View: 34, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#edit (for 127.0.0.1 at 2009-10-26 17:17:58) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 5) [0m
Rendering template within layouts/roles
Rendering roles/edit
Completed in 56ms (View: 15, DB: 4) | 200 OK [http://127.0.0.1/roles/5/edit]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#update (for 127.0.0.1 at 2009-10-26 17:18:02) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"link manager", "description"=>"can manage link"}, "id"=>"5"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` = 5) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Update (0.3ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-10-26 09:18:02', `name` = 'link manager' WHERE `id` = 5[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3001/roles/5
Completed in 41ms (DB: 7) | 302 Found [http://127.0.0.1/roles/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#show (for 127.0.0.1 at 2009-10-26 17:18:02) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` = 5) [0m
Rendering template within layouts/roles
Rendering roles/show
Completed in 27ms (View: 3, DB: 2) | 200 OK [http://127.0.0.1/roles/5]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:18:03) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 56ms (View: 32, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 17:18:12) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 28ms (View: 6, DB: 3) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:18:13) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 78ms (View: 42, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 17:18:22) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 94ms (View: 65, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:18:45) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;35;1mRole Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 64ms (View: 31, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 17:19:09) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 53ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 17:19:22) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 138ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 17:19:26) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"12"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 35ms (View: 9, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=12]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-26 17:19:49) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"admin", "description"=>"can do everything now!\r\n"}, "id"=>"12"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mdescribe `roles_users`[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (1, 12)[0m
  [4;35;1mSQL (3.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Load (30.7ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'spring' AND `users`.id <> 12) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://127.0.0.1:3001/users
Completed in 77ms (DB: 38) | 302 Found [http://127.0.0.1/users/save_role]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 17:19:49) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 90ms (View: 56, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:19:52) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 59ms (View: 36, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 17:22:25) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 124ms (View: 74, DB: 6) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:22:28) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/roles
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 67ms (View: 31, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:23:25) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 59ms (View: 36, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:23:33) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 84ms (View: 48, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:25:06) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 85ms (View: 49, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:25:20) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 118ms (View: 81, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:25:53) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 63ms (View: 41, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#new (for 127.0.0.1 at 2009-10-26 17:27:04) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendering template within layouts/store
Rendering roles/new
Completed in 65ms (View: 28, DB: 3) | 200 OK [http://127.0.0.1/roles/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#create (for 127.0.0.1 at 2009-10-26 17:27:05) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"", "description"=>""}}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/store
Rendering roles/new
Completed in 56ms (View: 28, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:27:07) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 91ms (View: 53, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePermissions (20091026093140)
  [4;36;1mSQL (42.9ms)[0m   [0;1mCREATE TABLE `permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `authorizable_id` int(11), `authorizable_type` varchar(255), `god` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091026093140')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW FIELDS FROM `line_items`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mdescribe `line_items`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `line_items`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `orders`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `orders`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `permissions`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `permissions`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `roles_users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `roles_users`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mdescribe `sessions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `sessions`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#new (for 127.0.0.1 at 2009-10-26 17:34:39) [GET]
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendering template within layouts/store
Rendering roles/new
Completed in 81ms (View: 31, DB: 3) | 200 OK [http://127.0.0.1/roles/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 17:34:42) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 125ms (View: 77, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-26 17:34:52) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 120ms (View: 83, DB: 4) | 200 OK [http://127.0.0.1/admin]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PermissionsController#index (for 127.0.0.1 at 2009-10-26 17:34:54) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mPermission Load (0.4ms)[0m   [0;1mSELECT * FROM `permissions` [0m
Rendering template within layouts/store
Rendering permissions/index
Completed in 63ms (View: 27, DB: 2) | 200 OK [http://127.0.0.1/permissions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing PermissionsController#index (for 127.0.0.1 at 2009-10-26 17:35:49) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` [0m
Rendering template within layouts/store
Rendering permissions/index
Completed in 31ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/permissions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PermissionsController#new (for 127.0.0.1 at 2009-10-26 17:41:26) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mPermission Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
Rendering template within layouts/store
Rendering permissions/new
Completed in 122ms (View: 83, DB: 3) | 200 OK [http://127.0.0.1/permissions/new]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing PermissionsController#index (for 127.0.0.1 at 2009-10-26 17:43:49) [GET]
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` [0m
Rendering template within layouts/store
Rendering permissions/index
Completed in 53ms (View: 16, DB: 2) | 200 OK [http://127.0.0.1/permissions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PermissionsController#index (for 127.0.0.1 at 2009-10-26 17:44:14) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` [0m
Rendering template within layouts/store
Rendering permissions/index
Completed in 59ms (View: 21, DB: 2) | 200 OK [http://127.0.0.1/permissions]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing PermissionsController#index (for 127.0.0.1 at 2009-10-26 17:44:23) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` [0m
Rendering template within layouts/store
Rendering permissions/index
Completed in 43ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/permissions]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PermissionsController#index (for 127.0.0.1 at 2009-10-26 17:44:43) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` [0m
Rendering template within layouts/store
Rendering permissions/index
Completed in 58ms (View: 20, DB: 2) | 200 OK [http://127.0.0.1/permissions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-26 17:45:22) [GET]
  [4;35;1mUser Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 72ms (View: 42, DB: 2) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 17:45:42) [GET]
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 112ms (View: 66, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 17:45:45) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 63ms (View: 20, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;36;1mroles_users Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (40.9ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 11 ) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:15:14) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 193ms (View: 40, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:15:16) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 74ms (View: 20, DB: 6) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:15:31) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 133ms (View: 86, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:17:35) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: syntax error, unexpected ')'
...er.concat(( Role.all do |r|  ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "<br />\n      "
; @output_buffer.concat(( Role.all do |r|  ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( form.check_box r.name ).to_s); @output_buffer.concat "\n      "
;  end ; @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: syntax error, unexpected ')'
...er.concat(( Role.all do |r|  ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')') on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %><br />
15:       <%= Role.all do |r|  %>
16:         <%= form.check_box r.name %>
17:       <% end %>
18:       </p>

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (50.0ms)
Rendered rescues/_request_and_response (15.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-26 18:17:54) [GET]
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 89ms (View: 57, DB: 4) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:17:56) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"11"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: syntax error, unexpected ')'
...er.concat(( Role.all do |r|  ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "<br />\n      "
; @output_buffer.concat(( Role.all do |r|  ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( form.check_box r.name ).to_s); @output_buffer.concat "\n      "
;  end ; @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: syntax error, unexpected ')'
...er.concat(( Role.all do |r|  ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')') on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %><br />
15:       <%= Role.all do |r|  %>
16:         <%= form.check_box r.name %>
17:       <% end %>
18:       </p>

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:17:59) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: syntax error, unexpected ')'
...er.concat(( Role.all do |r|  ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "<br />\n      "
; @output_buffer.concat(( Role.all do |r|  ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( form.check_box r.name ).to_s); @output_buffer.concat "\n      "
;  end ; @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: syntax error, unexpected ')'
...er.concat(( Role.all do |r|  ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')') on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %><br />
15:       <%= Role.all do |r|  %>
16:         <%= form.check_box r.name %>
17:       <% end %>
18:       </p>

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (49.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:18:25) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: syntax error, unexpected ')'
...( Role.get_roles.map do |r|  ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "<br />\n      "
; @output_buffer.concat(( Role.get_roles.map do |r|  ).to_s); @output_buffer.concat "\n        "
; @output_buffer.concat(( form.check_box r.name ).to_s); @output_buffer.concat "\n      "
;  end ; @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: syntax error, unexpected ')'
...( Role.get_roles.map do |r|  ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:28: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:33: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35: syntax error, unexpected kEND, expecting ')') on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %><br />
15:       <%= Role.get_roles.map do |r|  %>
16:         <%= form.check_box r.name %>
17:       <% end %>
18:       </p>

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (132.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:19:50) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 52ms (View: 17, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-26 18:30:08) [POST]
  Parameters: {"authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "id"=>"4"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 51ms (View: 17, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=4]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-26 18:30:13) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"CGXpZvsELAG9U13Lop9EhWW8o2qXd+dLpqoiEzyvOog=", "role"=>{"name"=>"1", "description"=>"ss"}, "id"=>"4"}
  [4;35;1mUser Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
Completed in 48ms (View: 1, DB: 4) | 200 OK [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-27 09:26:21) [GET]
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` IS NULL) LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin/login
Filter chain halted as [:authorize] rendered_or_redirected.
Completed in 156ms (DB: 4) | 302 Found [http://127.0.0.1/admin]
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-27 09:26:21) [GET]
Rendering template within layouts/store
Rendering admin/login
Completed in 144ms (View: 136, DB: 1) | 200 OK [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#login (for 127.0.0.1 at 2009-10-27 09:26:30) [POST]
  Parameters: {"name"=>"buddy", "commit"=>"Login", "authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "password"=>"buddy"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/admin
Completed in 31ms (DB: 3) | 302 Found [http://127.0.0.1/admin/login]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing AdminController#index (for 127.0.0.1 at 2009-10-27 09:26:30) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mOrder Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Rendering template within layouts/store
Rendering admin/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
Completed in 94ms (View: 38, DB: 5) | 200 OK [http://127.0.0.1/admin]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-27 09:26:43) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.6ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 129ms (View: 84, DB: 4) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#new (for 127.0.0.1 at 2009-10-27 09:26:54) [GET]
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Rendering template within layouts/store
Rendering roles/new
Completed in 47ms (View: 25, DB: 2) | 200 OK [http://127.0.0.1/roles/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-27 09:27:05) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 96ms (View: 60, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-27 09:27:07) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.3ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.3ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 103ms (View: 64, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#new (for 127.0.0.1 at 2009-10-27 09:27:14) [GET]
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/new
Completed in 66ms (View: 38, DB: 2) | 200 OK [http://127.0.0.1/users/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-27 09:27:19) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;35;1mRole Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
Completed in 78ms (View: 41, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#new (for 127.0.0.1 at 2009-10-27 09:27:20) [GET]
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Rendering template within layouts/store
Rendering roles/new
Completed in 56ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/roles/new]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-10-27 09:27:24) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` [0m
Rendering template within layouts/store
Rendering products/index
  [4;36;1mProduct Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
DEPRECATION WARNING: truncate takes an option hash instead of separate length and omission arguments. (called from _run_erb_app47views47products47index46html46erb at /home/longjiahui/projects/Depot/app/views/products/index.html.erb:11)
Completed in 254ms (View: 166, DB: 6) | 200 OK [http://127.0.0.1/products]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-27 09:27:31) [GET]
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 100ms (View: 58, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:27:35) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 77ms (View: 34, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (22.0ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (11.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:34:40) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (27.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 259ms (View: 59, DB: 85) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:34:43) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.4ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 66ms (View: 22, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:36:44) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 132ms (View: 18, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (131.7ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:44:58) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (167.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (undefined method `name' for ["Admin", "admin"]:Array) on line #16 of app/views/users/grant_role.html.erb:
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles.each do |r|  %>
16:           <%= form.check_box_tag r.name.to_s %>
17:         <% end %>
18:       </p>
19: 

    app/views/users/grant_role.html.erb:16
    app/views/users/grant_role.html.erb:15:in `each'
    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (145.3ms)
Rendered rescues/_request_and_response (5.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:46:03) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (undefined method `check_box_tag' for #<ActionView::Helpers::FormBuilder:0xb67a45c0>) on line #16 of app/views/users/grant_role.html.erb:
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles.each do |k,r|  %>
16:           <%= form.check_box_tag r.to_s %>
17:         <% end %>
18:       </p>
19: 

    app/views/users/grant_role.html.erb:16
    app/views/users/grant_role.html.erb:15:in `each'
    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:48:48) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (undefined method `name' for ["Admin", "admin"]:Array) on line #16 of app/views/users/grant_role.html.erb:
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles.each do |r|  %>
16:           <%= form.check_box_tag r.name %>hehe<bt />
17:         <% end %>
18:       </p>
19: 

    app/views/users/grant_role.html.erb:16
    app/views/users/grant_role.html.erb:15:in `each'
    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:48:57) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (undefined method `name' for ["Admin", "admin"]:Array) on line #16 of app/views/users/grant_role.html.erb:
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles.each do |r|  %>
16:           <%= form.check_box_tag r.name %>hehe<br />
17:         <% end %>
18:       </p>
19: 

    app/views/users/grant_role.html.erb:16
    app/views/users/grant_role.html.erb:15:in `each'
    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:49:40) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (Symbol as array index) on line #16 of app/views/users/grant_role.html.erb:
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles.each do |r|  %>
16:           <%= form.check_box_tag r[:role][:name] %>hehe<br />
17:         <% end %>
18:       </p>
19: 

    app/views/users/grant_role.html.erb:16:in `[]'
    app/views/users/grant_role.html.erb:16
    app/views/users/grant_role.html.erb:15:in `each'
    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:50:32) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m

ActionView::TemplateError (undefined method `check_box_tag' for #<ActionView::Helpers::FormBuilder:0xb6620190>) on line #16 of app/views/users/grant_role.html.erb:
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles.each do |r|  %>
16:           <%= form.check_box_tag "r[][]" %>hehe<br />
17:         <% end %>
18:       </p>
19: 

    app/views/users/grant_role.html.erb:16
    app/views/users/grant_role.html.erb:15:in `each'
    app/views/users/grant_role.html.erb:15
    app/views/users/grant_role.html.erb:6
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:55:17) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 111ms (View: 62, DB: 5) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:58:37) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 137ms (View: 18, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 09:59:21) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (4.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `roles` [0m
Completed in 66ms (View: 16, DB: 8) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 10:02:04) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;35;1mUser Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: dynamic constant assignment
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\...
                        ^
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "<br />\n        "
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\n          <input type=\"checkbox\" name=\"role\" value="
; @output_buffer.concat(( params[:r]   ).to_s); @output_buffer.concat "/>"; @output_buffer.concat(( params[:r] ).to_s); @output_buffer.concat "<br />\n        "
;  end ; @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: dynamic constant assignment
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\...
                        ^) on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles do |R,r|  %>
16:           <input type="checkbox" name="role" value=<%= params[:r]   %>/><%= params[:r] %><br />
17:         <% end %>
18:       </p>

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (168.8ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (58.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 10:09:07) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;35;1mUser Columns (130.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: dynamic constant assignment
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\...
                        ^
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "<br />\n        "
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\n          <input type=\"checkbox\" name=\"role\" value="
; @output_buffer.concat(( params[:r]   ).to_s); @output_buffer.concat "/>"; @output_buffer.concat(( params[:r] ).to_s); @output_buffer.concat "<br />\n        "
;  end ; @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: dynamic constant assignment
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\...
                        ^) on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles do |R,r|  %>
16:           <input type="checkbox" name="role" value=<%= params[:r]   %>/><%= params[:r] %><br />
17:         <% end %>
18:       </p>

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (86.7ms)
Rendered rescues/_request_and_response (15.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing RolesController#index (for 127.0.0.1 at 2009-10-27 10:09:14) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` [0m
Rendering template within layouts/store
Rendering roles/index
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
Completed in 111ms (View: 72, DB: 3) | 200 OK [http://127.0.0.1/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-27 10:09:18) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (22.9ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 188ms (View: 120, DB: 27) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 10:09:23) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: dynamic constant assignment
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\...
                        ^
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "<br />\n        "
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\n          <input type=\"checkbox\" name=\"role\" value="
; @output_buffer.concat(( params[:r]   ).to_s); @output_buffer.concat "/>"; @output_buffer.concat(( params[:r] ).to_s); @output_buffer.concat "<br />\n        "
;  end ; @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:35:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:15: dynamic constant assignment
;  Role.get_roles do |R,r|  ; @output_buffer.concat "\...
                        ^) on line #15 of app/views/users/grant_role.html.erb:
12:           Role.get_roles,
13:           :prompt => "Select a role"
14:       %><br />
15:         <% Role.get_roles do |R,r|  %>
16:           <input type="checkbox" name="role" value=<%= params[:r]   %>/><%= params[:r] %><br />
17:         <% end %>
18:       </p>

    app/views/users/grant_role.html.erb:35:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-27 10:11:10) [GET]
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mOrder Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `orders`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 100ms (View: 55, DB: 5) | 200 OK [http://127.0.0.1/users]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 10:11:11) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mRole Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 142ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 10:17:44) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
ERROR: compiling _run_erb_app47views47users47grant_role46html46erb RAISED compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:16: syntax error, unexpected ')'
...(( Role.get_role_list do |r| ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:29: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:34: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:36: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47users47grant_role46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "\n<div class=\"depot-form\">\n  "

; @output_buffer.concat(( error_messages_for :role ).to_s); @output_buffer.concat "\n  <fieldset>\n    <legend>Grant the user you choose!</legend>\n    "


;  form_for :role, :url => { :action => :save_role } do |form| ; @output_buffer.concat "\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :name, "RoleName:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat((
        form.select :name,
          Role.get_roles,
          :prompt => "Select a role"
      ).to_s); @output_buffer.concat "<br />\n     \n      "

; @output_buffer.concat(( Role.get_role_list do |r| ).to_s); @output_buffer.concat "\n        <input type=\"checkbox\" name=\"rolename\" value=\""
; @output_buffer.concat(( r.name  ).to_s); @output_buffer.concat "\"/>"; @output_buffer.concat(( r.name  ).to_s); @output_buffer.concat "<br />\n      "
;  end ; @output_buffer.concat "\n      </p>\n\n      <input type=\"hidden\" value=\""


; @output_buffer.concat(( params[:id] ).to_s); @output_buffer.concat "\" name=\"id\" />\n\n      <p>\n        "


; @output_buffer.concat(( label :role, :description, "Description:" ).to_s); @output_buffer.concat "<br />\n        "
; @output_buffer.concat(( form.text_area :description, :rows => 3, :cols => 25 ).to_s); @output_buffer.concat "\n      </p>\n\n      "


; @output_buffer.concat(( submit_tag "Grant user" , :class => "submit" ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"



; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:36:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/abstract_store.rb:122:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:16: syntax error, unexpected ')'
...(( Role.get_role_list do |r| ).to_s); @output_buffer.concat ...
                              ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:29: syntax error, unexpected kEND, expecting ')'
;  end ; @output_buffer.concat "\n  </fieldset>\n</div>\n\n"
      ^
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:34: syntax error, unexpected kENSURE, expecting ')'
/home/longjiahui/projects/Depot/app/views/users/grant_role.html.erb:36: syntax error, unexpected kEND, expecting ')') on line #16 of app/views/users/grant_role.html.erb:
13:           :prompt => "Select a role"
14:       %><br />
15:      
16:       <%= Role.get_role_list do |r| %>
17:         <input type="checkbox" name="rolename" value="<%= r.name  %>"/><%= r.name  %><br />
18:       <% end %>
19:       </p>

    app/views/users/grant_role.html.erb:36:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (89.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 10:18:17) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 128ms (View: 89, DB: 3) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 10:18:19) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 53ms (View: 11, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#grant_role (for 127.0.0.1 at 2009-10-27 10:18:55) [POST]
  Parameters: {"authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "id"=>"11"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
Rendering template within layouts/store
Rendering users/grant_role
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `roles` [0m
Completed in 51ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/users/grant_role?id=11]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#save_role (for 127.0.0.1 at 2009-10-27 10:19:01) [POST]
  Parameters: {"commit"=>"Grant user", "authenticity_token"=>"R+l3NMC7kXvA8SDmcUmxG503xebqswfmqaz0wx+mWtg=", "role"=>{"name"=>"keyword viewer", "description"=>""}, "id"=>"11"}
  [4;36;1mUser Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Load (454.0ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`name` = 'keyword viewer') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (25.9ms)[0m   [0mdescribe `roles_users`[0m
  [4;36;1mroles_users Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mSQL (151.9ms)[0m   [0mINSERT INTO `roles_users` (`role_id`, `user_id`) VALUES (2, 11)[0m
  [4;36;1mSQL (37.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Load (83.9ms)[0m   [0;1mSELECT `users`.id FROM `users` WHERE (`users`.`name` = BINARY 'buddy' AND `users`.id <> 11) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://127.0.0.1:3000/users
Completed in 804ms (DB: 757) | 302 Found [http://127.0.0.1/users/save_role]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (3.5ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-27 10:19:02) [GET]
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 163ms (View: 99, DB: 25) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-27 10:27:54) [GET]
  [4;36;1mUser Columns (56.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;35;1mRole Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`name` = 'admin') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles`.`id` = 1) AND (`roles_users`.user_id = 11 ) LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` ORDER BY name[0m
Rendering template within layouts/store
Rendering users/index
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mOrder Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `orders`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `orders` [0m
Completed in 248ms (View: 145, DB: 61) | 200 OK [http://127.0.0.1/users]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'buddy') LIMIT 1[0m
  [4;36;1mroles_users Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.5ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 11 ) [0m
  [4;36;1mRole Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
